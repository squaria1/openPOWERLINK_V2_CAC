<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.10.0" xml:lang="en-US">
  <compounddef id="opl_8cpp" kind="file" language="C++">
    <compoundname>opl.cpp</compoundname>
    <includes refid="opl_8h" local="yes">opl.h</includes>
    <incdepgraph>
      <node id="5">
        <label>configDefine.h</label>
        <link refid="config_define_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>csv.h</label>
        <link refid="csv_8h"/>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>eventOpl.h</label>
        <link refid="event_opl_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>nbNodes.h</label>
        <link refid="nb_nodes_8h"/>
      </node>
      <node id="2">
        <label>opl.h</label>
        <link refid="opl_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>statusErrorDefine.h</label>
        <link refid="status_error_define_8h"/>
      </node>
      <node id="3">
        <label>xapOpl.h</label>
        <link refid="xap_opl_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp</label>
        <link refid="opl_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>console/console.h</label>
      </node>
      <node id="17">
        <label>ctype.h</label>
      </node>
      <node id="11">
        <label>eventlog/eventlog.h</label>
      </node>
      <node id="23">
        <label>firmwaremanager/firmwaremanager.h</label>
      </node>
      <node id="22">
        <label>getopt/getopt.h</label>
      </node>
      <node id="25">
        <label>limits.h</label>
      </node>
      <node id="24">
        <label>netselect/netselect.h</label>
      </node>
      <node id="21">
        <label>obdcreate/obdcreate.h</label>
      </node>
      <node id="18">
        <label>obdpi.h</label>
      </node>
      <node id="9">
        <label>oplk/debugstr.h</label>
      </node>
      <node id="8">
        <label>oplk/oplk.h</label>
      </node>
      <node id="19">
        <label>stdbool.h</label>
      </node>
      <node id="4">
        <label>stdint.h</label>
      </node>
      <node id="12">
        <label>stdio.h</label>
      </node>
      <node id="15">
        <label>stdlib.h</label>
      </node>
      <node id="16">
        <label>string</label>
      </node>
      <node id="26">
        <label>string.h</label>
      </node>
      <node id="20">
        <label>system/system.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="var">
      <memberdef kind="variable" id="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" prot="public" static="no" mutable="no">
        <type><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911" kindref="member">Mode</ref></type>
        <definition>Mode mode</definition>
        <argsstring></argsstring>
        <name>mode</name>
        <initializer>= <ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref></initializer>
        <briefdescription>
<para>the mode of the program. It is initialized to the automatic mode, the general state CSV files are first used. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="19" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="19" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" compoundref="opl_8cpp" startline="384" endline="410">initApp</referencedby>
        <referencedby refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" compoundref="opl_8cpp" startline="632" endline="679">processSync</referencedby>
        <referencedby refid="opl_8cpp_1aa811a9aae2371f56969a0f49d2fb6a01" compoundref="opl_8cpp" startline="224" endline="238">setEGToManualMode</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a205c320e4549a490660d24878aca4d9e" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int cmptEG</definition>
        <argsstring></argsstring>
        <name>cmptEG</name>
        <briefdescription>
<para>the EG counter to test the EG change from the MN to the CN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="24" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="24" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a42ffa874fd1654b63c707c7444c5f5a7" compoundref="opl_8cpp" startline="204" endline="217">changeEG</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" prot="public" static="no" mutable="no">
        <type>const uint16_t</type>
        <definition>const uint16_t nbValuesCN_Out</definition>
        <argsstring></argsstring>
        <name>nbValuesCN_Out</name>
        <initializer>= <ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref> / <ref refid="nb_nodes_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref> - 2</initializer>
        <briefdescription>
<para>the number of values coming out of each CNs </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="28" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="28" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" prot="public" static="no" mutable="no">
        <type>const uint16_t</type>
        <definition>const uint16_t nbValuesCN_In</definition>
        <argsstring></argsstring>
        <name>nbValuesCN_In</name>
        <initializer>= <ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref> / <ref refid="nb_nodes_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref> - 1</initializer>
        <briefdescription>
<para>the number of values coming into each CNs </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="32" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="32" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a2d1d0692ab49f35acb65290d9ffdc46e" compoundref="opl_8cpp" startline="247" endline="256">manualActivation</referencedby>
        <referencedby refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" compoundref="opl_8cpp" startline="632" endline="679">processSync</referencedby>
        <referencedby refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" compoundref="opl_8cpp" startline="130" endline="137">setEG</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" prot="public" static="yes" mutable="no">
        <type>const UINT8</type>
        <definition>const UINT8 aMacAddr_l[]</definition>
        <argsstring>[]</argsstring>
        <name>aMacAddr_l</name>
        <initializer>= { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }</initializer>
        <briefdescription>
<para>the LAN card mac address </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="40" column="33" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="40" bodyend="40"/>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="284" endline="370">initOPL</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" prot="public" static="yes" mutable="no">
        <type>BOOL</type>
        <definition>BOOL fGsOff_l</definition>
        <argsstring></argsstring>
        <name>fGsOff_l</name>
        <briefdescription>
<para>Pointer to GsOff flag (determines that OpenPOWERLINK stack is down) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="45" column="33" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="45" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="284" endline="370">initOPL</referencedby>
        <referencedby refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" compoundref="opl_8cpp" startline="779" endline="813">shutdownPowerlink</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1ae0e41ea82741f096047404d89c71b4b1" prot="public" static="yes" mutable="no">
        <type>UINT</type>
        <definition>UINT cnt_l</definition>
        <argsstring></argsstring>
        <name>cnt_l</name>
        <briefdescription>
<para>The OpenPOWERLINK process data handler counter. Counts the number of OpenPOWERLINK cycles. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="50" column="33" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="50" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" compoundref="opl_8cpp" startline="384" endline="410">initApp</referencedby>
        <referencedby refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" compoundref="opl_8cpp" startline="632" endline="679">processSync</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" prot="public" static="yes" mutable="no">
        <type><ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref> *</type>
        <definition>PI_IN* pProcessImageIn_l</definition>
        <argsstring></argsstring>
        <name>pProcessImageIn_l</name>
        <briefdescription>
<para>the TPDO process variables (coming into the MN) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="56" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="56" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a4694c875ca4b6710094a1116cb75aea0" compoundref="opl_8cpp" startline="174" endline="182">affValeursOutProcess</referencedby>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="693" endline="728">initProcessImage</referencedby>
        <referencedby refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" compoundref="opl_8cpp" startline="632" endline="679">processSync</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" prot="public" static="yes" mutable="no">
        <type><ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref> *</type>
        <definition>PI_OUT* pProcessImageOut_l</definition>
        <argsstring></argsstring>
        <name>pProcessImageOut_l</name>
        <briefdescription>
<para>the RPDO process variables (coming out of the MN) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="60" column="15" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="60" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a4f204b11f6909d44c14be101d4d01055" compoundref="opl_8cpp" startline="159" endline="167">affValeursInProcess</referencedby>
        <referencedby refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" compoundref="opl_8cpp" startline="384" endline="410">initApp</referencedby>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="693" endline="728">initProcessImage</referencedby>
        <referencedby refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" compoundref="opl_8cpp" startline="632" endline="679">processSync</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" prot="public" static="yes" mutable="no">
        <type>int16_t</type>
        <definition>int16_t values_In_MN_l[SIZE_OUT]</definition>
        <argsstring>[SIZE_OUT]</argsstring>
        <name>values_In_MN_l</name>
        <briefdescription>
<para>array of incoming values from the CNs </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="66" column="33" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="66" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a0e626359c6d8f3e0bc7e7c19c01fa820" compoundref="opl_8cpp" startline="144" endline="152">affValeursIn</referencedby>
        <referencedby refid="opl_8cpp_1a9e9ba7877384a999a6a22fd08b2ce5a1" compoundref="opl_8cpp" startline="94" endline="97">getValues_In_MN</referencedby>
        <referencedby refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" compoundref="opl_8cpp" startline="384" endline="410">initApp</referencedby>
        <referencedby refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" compoundref="opl_8cpp" startline="632" endline="679">processSync</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" prot="public" static="yes" mutable="no">
        <type>int16_t</type>
        <definition>int16_t values_Out_MN_l[SIZE_IN]</definition>
        <argsstring>[SIZE_IN]</argsstring>
        <name>values_Out_MN_l</name>
        <briefdescription>
<para>array of values coming out of the MN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="70" column="33" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="70" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" compoundref="opl_8cpp" startline="189" endline="197">affValeursOut</referencedby>
        <referencedby refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" compoundref="opl_8cpp" startline="384" endline="410">initApp</referencedby>
        <referencedby refid="opl_8cpp_1a2d1d0692ab49f35acb65290d9ffdc46e" compoundref="opl_8cpp" startline="247" endline="256">manualActivation</referencedby>
        <referencedby refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" compoundref="opl_8cpp" startline="632" endline="679">processSync</referencedby>
        <referencedby refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" compoundref="opl_8cpp" startline="130" endline="137">setEG</referencedby>
        <referencedby refid="opl_8cpp_1ab19dffb79a3af5e336923b27bd441780" compoundref="opl_8cpp" startline="107" endline="110">setValues_Out_MN</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a0e551e0042317a6798c4be989015e64b" prot="public" static="yes" mutable="no">
        <type>bool</type>
        <definition>bool activated_In_MN_l[SIZE_OUT+2]</definition>
        <argsstring>[SIZE_OUT+2]</argsstring>
        <name>activated_In_MN_l</name>
        <briefdescription>
<para>array of value activation coming out of the CN true if activated, false otherwise </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="75" column="33" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="75" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a49a4367dee21b29ba4289959d09bdbfc" compoundref="opl_8cpp" startline="117" endline="123">setActivated_In_MN</referencedby>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="opl_8cpp_1a9e9ba7877384a999a6a22fd08b2ce5a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int16_t *</type>
        <definition>int16_t * getValues_In_MN</definition>
        <argsstring>()</argsstring>
        <name>getValues_In_MN</name>
        <briefdescription>
<para>function getter of the values coming from the CNs namely, the board states, valve values and sensor values of every connected CNs. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>the array of the CNs incoming values </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="94" column="9" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="94" bodyend="97"/>
        <references refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" compoundref="opl_8cpp" startline="66">values_In_MN_l</references>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1ab19dffb79a3af5e336923b27bd441780" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setValues_Out_MN</definition>
        <argsstring>(int ligne, int16_t valeur)</argsstring>
        <name>setValues_Out_MN</name>
        <param>
          <type>int</type>
          <declname>ligne</declname>
        </param>
        <param>
          <type>int16_t</type>
          <declname>valeur</declname>
        </param>
        <briefdescription>
<para>function setter of the values coming out of the MN namely, the general state order and valve values in manual mode to the CNs. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ligne</parametername>
</parameternamelist>
<parameterdescription>
<para>the location in the <ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref> structure </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>valeur</parametername>
</parameternamelist>
<parameterdescription>
<para>the manual valve value to set </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="107" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="107" bodyend="110"/>
        <references refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" compoundref="opl_8cpp" startline="70">values_Out_MN_l</references>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a49a4367dee21b29ba4289959d09bdbfc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setActivated_In_MN</definition>
        <argsstring>()</argsstring>
        <name>setActivated_In_MN</name>
        <briefdescription>
<para>function setter to fill the activation array from the CSV activation file &quot;activation.csv&quot; </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="117" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="117" bodyend="123"/>
        <references refid="opl_8cpp_1a0e551e0042317a6798c4be989015e64b" compoundref="opl_8cpp" startline="75">activated_In_MN_l</references>
        <references refid="csv_8cpp_1a59b3cd375160ea778a774e62c7c64f7d" compoundref="csv_8cpp" startline="206" endline="208">getActivation</references>
        <references refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" compoundref="config_define_8h" startline="58">SIZE_OUT</references>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="284" endline="370">initOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setEG</definition>
        <argsstring>(int16_t EG)</argsstring>
        <name>setEG</name>
        <param>
          <type>int16_t</type>
          <declname>EG</declname>
        </param>
        <briefdescription>
<para>function setter of the current general state (EG) </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>EG</parametername>
</parameternamelist>
<parameterdescription>
<para>the current general state (EG) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="130" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="130" bodyend="137"/>
        <references refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" compoundref="opl_8cpp" startline="32">nbValuesCN_In</references>
        <references refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" compoundref="config_define_8h" startline="62">SIZE_IN</references>
        <references refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" compoundref="opl_8cpp" startline="70">values_Out_MN_l</references>
        <referencedby refid="opl_8cpp_1a42ffa874fd1654b63c707c7444c5f5a7" compoundref="opl_8cpp" startline="204" endline="217">changeEG</referencedby>
        <referencedby refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" compoundref="opl_8cpp" startline="384" endline="410">initApp</referencedby>
        <referencedby refid="opl_8cpp_1aa811a9aae2371f56969a0f49d2fb6a01" compoundref="opl_8cpp" startline="224" endline="238">setEGToManualMode</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a0e626359c6d8f3e0bc7e7c19c01fa820" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void affValeursIn</definition>
        <argsstring>()</argsstring>
        <name>affValeursIn</name>
        <briefdescription>
<para>function to display in the console the values coming from the CNs </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="144" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="144" bodyend="152"/>
        <references refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" compoundref="config_define_8h" startline="58">SIZE_OUT</references>
        <references refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" compoundref="opl_8cpp" startline="66">values_In_MN_l</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a4f204b11f6909d44c14be101d4d01055" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void affValeursInProcess</definition>
        <argsstring>()</argsstring>
        <name>affValeursInProcess</name>
        <briefdescription>
<para>function to display in the console the raw values coming from the CNs </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="159" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="159" bodyend="167"/>
        <references refid="struct_p_i___o_u_t_1a694b2a7f1ee5ed56e399348bb5c7649d" compoundref="xap_opl_8h" startline="34">PI_OUT::out_MN_array</references>
        <references refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" compoundref="opl_8cpp" startline="60">pProcessImageOut_l</references>
        <references refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" compoundref="config_define_8h" startline="58">SIZE_OUT</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a4694c875ca4b6710094a1116cb75aea0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void affValeursOutProcess</definition>
        <argsstring>()</argsstring>
        <name>affValeursOutProcess</name>
        <briefdescription>
<para>function to display in the console the raw values coming out of the MN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="174" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="174" bodyend="182"/>
        <references refid="struct_p_i___i_n_1a1f35f6ce611fe3bb17297507b7c76428" compoundref="xap_opl_8h" startline="43">PI_IN::in_MN_array</references>
        <references refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" compoundref="opl_8cpp" startline="56">pProcessImageIn_l</references>
        <references refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" compoundref="config_define_8h" startline="62">SIZE_IN</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void affValeursOut</definition>
        <argsstring>()</argsstring>
        <name>affValeursOut</name>
        <briefdescription>
<para>function to display in the console the values coming out of the MN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="189" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="189" bodyend="197"/>
        <references refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" compoundref="config_define_8h" startline="62">SIZE_IN</references>
        <references refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" compoundref="opl_8cpp" startline="70">values_Out_MN_l</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a42ffa874fd1654b63c707c7444c5f5a7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void changeEG</definition>
        <argsstring>()</argsstring>
        <name>changeEG</name>
        <briefdescription>
<para>function to cycle through some general states to test the MN and CNs programs for the early versions. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="204" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="204" bodyend="217"/>
        <references refid="opl_8cpp_1a205c320e4549a490660d24878aca4d9e" compoundref="opl_8cpp" startline="24">cmptEG</references>
        <references refid="csv_8cpp_1a70bcd737e5a40f36e1cccaf3a7f63379" compoundref="csv_8cpp" startline="216" endline="219">getEGcsv</references>
        <references refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" compoundref="opl_8cpp" startline="130" endline="137">setEG</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1aa811a9aae2371f56969a0f49d2fb6a01" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setEGToManualMode</definition>
        <argsstring>()</argsstring>
        <name>setEGToManualMode</name>
        <briefdescription>
<para>function to switch between automatic and manual modes. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="224" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="224" bodyend="238"/>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" compoundref="status_error_define_8h" startline="120">automatic</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a07e3be144c2a7d4c69691470f0bcd261" compoundref="status_error_define_8h" startline="53">infoStateToManualMode</references>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" compoundref="status_error_define_8h" startline="121">manual</references>
        <references refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" compoundref="opl_8cpp" startline="19">mode</references>
        <references refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" compoundref="opl_8cpp" startline="130" endline="137">setEG</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a2d1d0692ab49f35acb65290d9ffdc46e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void manualActivation</definition>
        <argsstring>(int nodeId, int valve)</argsstring>
        <name>manualActivation</name>
        <param>
          <type>int</type>
          <declname>nodeId</declname>
        </param>
        <param>
          <type>int</type>
          <declname>valve</declname>
        </param>
        <briefdescription>
<para>function to set to 0 or 1 a valve value of a CN when mode is set to manual mode. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>nodeId</parametername>
</parameternamelist>
<parameterdescription>
<para>the id of the CN </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>valve</parametername>
</parameternamelist>
<parameterdescription>
<para>the valve number (from 0 to 11) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="247" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="247" bodyend="256"/>
        <references refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" compoundref="opl_8cpp" startline="32">nbValuesCN_In</references>
        <references refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" compoundref="opl_8cpp" startline="70">values_Out_MN_l</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initOPL</definition>
        <argsstring>()</argsstring>
        <name>initOPL</name>
        <briefdescription>
<para>function to initialize the CN OpenPOWERLINK module </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>statusErrDef that values errOPLSystemInit when OpenPOWERLINK fails to set the correct configuration for the current operating system. or errInitFirmwareManager when the firmware manager to check dependances of the operating system fails to initialize or errSelNetInterface when the selection of the network interface fails when in a Windows machine can be caused by the absence of WinPcap. or errInitObjDictionary when the object dictionary header file (objdict.h) has incorrect values or syntax. or errOplkInit when the OpenPOWERLINK stack fails maybe because the stack is not found by the application, check the CN .lib files. or errOplkCreate when the OpenPOWERLINK stack fails to create a new instance or errOplkAllocProcessImage when the allocation of the input and/or output structure doesn&apos;t exist in the objdict.h file or errSendNMTResetCommand when the OpenPOWERLINK reset command fails or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="284" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="284" bodyend="370"/>
        <references refid="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" compoundref="opl_8cpp" startline="40" endline="40">aMacAddr_l</references>
        <references refid="config_define_8h_1aa8a09c72ec4b0fb08add063f03dec883" compoundref="config_define_8h" startline="52">CDCFILE</references>
        <references refid="structt_options_1a6ddddbecf7127a1d2a9b9f8e430ce72e" compoundref="opl_8h" startline="63">tOptions::cdcFile</references>
        <references refid="config_define_8h_1ac9ac8ba41c4385306791b6640b1d51dc" compoundref="config_define_8h" startline="23">CYCLE_LEN</references>
        <references refid="config_define_8h_1a563cad7e347a704508920c0c59f74808" compoundref="config_define_8h" startline="47">DEVNAME</references>
        <references refid="structt_options_1a675c269016681a9bf07a16d975c20963" compoundref="opl_8h" startline="69">tOptions::devName</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a0d3760066c986a1d218efcd7a8144ce5" compoundref="status_error_define_8h" startline="88">errInitFirmwareManager</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ae1a5bbac3235cbdf4dfdaf395813d328" compoundref="status_error_define_8h" startline="75">errOPLSystemInit</references>
        <references refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" compoundref="opl_8cpp" startline="45">fGsOff_l</references>
        <references refid="structt_options_1a32813633c4fc364b2354b34c93af6d5c" compoundref="opl_8h" startline="64">tOptions::fwInfoFile</references>
        <references refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" compoundref="opl_8cpp" startline="384" endline="410">initApp</references>
        <references refid="event_opl_8c_1a708072d52104add21873311bb5ad111a" compoundref="event_opl_8c" startline="124" endline="127">initEvents</references>
        <references refid="opl_8cpp_1a5f36f28eb56f576908d03b70ebc711f0" compoundref="opl_8cpp" startline="604" endline="623">initOplThread</references>
        <references refid="opl_8cpp_1a79db23e985d7f28a067c6a822761b5f9" compoundref="opl_8cpp" startline="434" endline="559">initPowerlink</references>
        <references refid="structt_options_1ac2d0a48a3d2ed344da01233e48372775" compoundref="opl_8h" startline="68">tOptions::logCategory</references>
        <references refid="structt_options_1ad4dfda079fb51a7c23ff0321a2fc920e" compoundref="opl_8h" startline="66">tOptions::logFormat</references>
        <references refid="structt_options_1ac41ac397dd5398c735a7845a023e7877" compoundref="opl_8h" startline="67">tOptions::logLevel</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="structt_event_config_1a5baa11deb2b8d39e42178a4a72100292" compoundref="event_opl_8h" startline="65">tEventConfig::pfGsOff</references>
        <references refid="structt_event_config_1a210224e651107b9afb21698ad40d9ad0" compoundref="event_opl_8h" startline="66">tEventConfig::pfnFirmwareManagerCallback</references>
        <references refid="structt_options_1a7d8b6a0dc8e19d43ed48e2a7f0b47da8" compoundref="opl_8h" startline="65">tOptions::pLogFile</references>
        <references refid="opl_8cpp_1a49a4367dee21b29ba4289959d09bdbfc" compoundref="opl_8cpp" startline="117" endline="123">setActivated_In_MN</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initApp</definition>
        <argsstring>(void)</argsstring>
        <name>initApp</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Initialize the synchronous data application. </para>
        </briefdescription>
        <detaileddescription>
<para>The function initializes the synchronous data application</para>
<para><simplesect kind="return"><para>statusErrDef that values errOplkAllocProcessImage when the allocation of the input and/or output structure doesn&apos;t exist in the objdict.h file or errSetupProcessImage when the input and/or output structure are not the same with the mnobd.cdc file or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="384" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="384" bodyend="410"/>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" compoundref="status_error_define_8h" startline="120">automatic</references>
        <references refid="opl_8cpp_1ae0e41ea82741f096047404d89c71b4b1" compoundref="opl_8cpp" startline="50">cnt_l</references>
        <references refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="693" endline="728">initProcessImage</references>
        <references refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" compoundref="opl_8cpp" startline="19">mode</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" compoundref="opl_8cpp" startline="60">pProcessImageOut_l</references>
        <references refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" compoundref="opl_8cpp" startline="130" endline="137">setEG</references>
        <references refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" compoundref="config_define_8h" startline="62">SIZE_IN</references>
        <references refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" compoundref="config_define_8h" startline="58">SIZE_OUT</references>
        <references refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" compoundref="opl_8cpp" startline="66">values_In_MN_l</references>
        <references refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" compoundref="opl_8cpp" startline="70">values_Out_MN_l</references>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="284" endline="370">initOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a79db23e985d7f28a067c6a822761b5f9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initPowerlink</definition>
        <argsstring>(UINT32 cycleLen_p, const char *cdcFileName_p, const char *devName_p, const UINT8 *macAddr_p)</argsstring>
        <name>initPowerlink</name>
        <param>
          <type>UINT32</type>
          <declname>cycleLen_p</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>cdcFileName_p</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>devName_p</declname>
        </param>
        <param>
          <type>const UINT8 *</type>
          <declname>macAddr_p</declname>
        </param>
        <briefdescription>
<para>Initialize the openPOWERLINK stack. </para>
        </briefdescription>
        <detaileddescription>
<para>The function initializes the openPOWERLINK stack.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">cycleLen_p</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of POWERLINK cycle. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">cdcFileName_p</parametername>
</parameternamelist>
<parameterdescription>
<para>Name of the CDC file. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">devName_p</parametername>
</parameternamelist>
<parameterdescription>
<para>Device name string. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">macAddr_p</parametername>
</parameternamelist>
<parameterdescription>
<para>MAC address to use for POWERLINK interface.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>statusErrDef that values errSelNetInterface when the selection of the network interface fails when in a Windows machine can be caused by the absence of WinPcap. or errInitObjDictionary when the object dictionary header file (objdict.h) has incorrect values or syntax. or errOplkInit when the OpenPOWERLINK stack fails maybe because the stack is not found by the application, check the CN .lib files. or errOplkCreate when the OpenPOWERLINK stack fails to create a new instance or errOplkSetCDCFileName when the mnobd.cdc file is not found or is incorrect or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="434" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="434" bodyend="559"/>
        <references refid="config_define_8h_1ab0092e2619bef8d5375800f507d3080c" compoundref="config_define_8h" startline="39">DEFAULT_GATEWAY</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a3ebf20f82ef4ab6c130e48091c95cba7" compoundref="status_error_define_8h" startline="77">errInitObjDictionary</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ae58a341d48e59f97d21886e8e27b0db8" compoundref="status_error_define_8h" startline="79">errOplkCreate</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a93dde49c48ef9bb619348e72d664c43d" compoundref="status_error_define_8h" startline="78">errOplkInit</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a8de9d8ff43159f5a2951d00c9e67ceaa" compoundref="status_error_define_8h" startline="89">errOplkSetCDCFileName</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a3ccc2755005e3b8f7aedd3787bef4869" compoundref="status_error_define_8h" startline="76">errSelNetInterface</references>
        <references refid="config_define_8h_1a14b0a7da8cf3edbfec9630c2ec290148" compoundref="config_define_8h" startline="31">IP_ADDR</references>
        <references refid="config_define_8h_1a2f7945514ea8b2c7145cf68d47c96a08" compoundref="config_define_8h" startline="27">NODEID</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="event_opl_8c_1ad6f574bee28d3a8f66b5885f365a8df2" compoundref="event_opl_8c" startline="144" endline="192">processEvents</references>
        <references refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" compoundref="opl_8cpp" startline="632" endline="679">processSync</references>
        <references refid="config_define_8h_1a2277cfa773d618a987524fc0590fe253" compoundref="config_define_8h" startline="35">SUBNET_MASK</references>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="284" endline="370">initOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a6113e17ab32811ea2704cbfbb967c64f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef checkStateOpl</definition>
        <argsstring>()</argsstring>
        <name>checkStateOpl</name>
        <briefdescription>
<para>function to check if the OpenPOWERLINK stack crashed or a termination signal has been received from the OS app manager. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>statusErrDef that values errSystemSendTerminate if a termination signal has been received or errOplKernelStackDown if the OpenPOWERLINK stack crashed or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="571" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="571" bodyend="592"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a34e5cf990e434aa370892b7d204206c8" compoundref="status_error_define_8h" startline="87">errOplKernelStackDown</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a577af9c3c84d95925e05d66000b3d411" compoundref="status_error_define_8h" startline="86">errSystemSendTerminate</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a5f36f28eb56f576908d03b70ebc711f0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initOplThread</definition>
        <argsstring>()</argsstring>
        <name>initOplThread</name>
        <briefdescription>
<para><linebreak/>
 </para>
        </briefdescription>
        <detaileddescription>
<para><itemizedlist>
<listitem><para>It creates the sync thread which is responsible for the synchronous data application.</para>
</listitem></itemizedlist>
</para>
<para><simplesect kind="return"><para>statusErrDef that values errSendNMTResetCommand when the OpenPOWERLINK reset command fails or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="604" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="604" bodyend="623"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94adc47549c3ae339d7b2b8d77ac0ad63bf" compoundref="status_error_define_8h" startline="84">errSendNMTResetCommand</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="284" endline="370">initOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>tOplkError</type>
        <definition>tOplkError processSync</definition>
        <argsstring>(void)</argsstring>
        <name>processSync</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Synchronous data handler. </para>
        </briefdescription>
        <detaileddescription>
<para>The function implements the synchronous data handler.</para>
<para><simplesect kind="return"><para>The function returns a tOplkError error code. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="632" column="12" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="632" bodyend="679"/>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" compoundref="status_error_define_8h" startline="120">automatic</references>
        <references refid="opl_8cpp_1ae0e41ea82741f096047404d89c71b4b1" compoundref="opl_8cpp" startline="50">cnt_l</references>
        <references refid="struct_p_i___i_n_1a1f35f6ce611fe3bb17297507b7c76428" compoundref="xap_opl_8h" startline="43">PI_IN::in_MN_array</references>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" compoundref="status_error_define_8h" startline="121">manual</references>
        <references refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" compoundref="opl_8cpp" startline="19">mode</references>
        <references refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" compoundref="opl_8cpp" startline="32">nbValuesCN_In</references>
        <references refid="struct_p_i___o_u_t_1a694b2a7f1ee5ed56e399348bb5c7649d" compoundref="xap_opl_8h" startline="34">PI_OUT::out_MN_array</references>
        <references refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" compoundref="opl_8cpp" startline="56">pProcessImageIn_l</references>
        <references refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" compoundref="opl_8cpp" startline="60">pProcessImageOut_l</references>
        <references refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" compoundref="config_define_8h" startline="62">SIZE_IN</references>
        <references refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" compoundref="config_define_8h" startline="58">SIZE_OUT</references>
        <references refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" compoundref="opl_8cpp" startline="66">values_In_MN_l</references>
        <references refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" compoundref="opl_8cpp" startline="70">values_Out_MN_l</references>
        <referencedby refid="opl_8cpp_1a79db23e985d7f28a067c6a822761b5f9" compoundref="opl_8cpp" startline="434" endline="559">initPowerlink</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a6928095e76089df62d549c72bf870b44" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initProcessImage</definition>
        <argsstring>(void)</argsstring>
        <name>initProcessImage</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Initialize process image. </para>
        </briefdescription>
        <detaileddescription>
<para>The function initializes the process image of the application.</para>
<para><simplesect kind="return"><para>statusErrDef that values errOplkAllocProcessImage when the allocation of the input and/or output structure doesn&apos;t exist in the objdict.h file or errSetupProcessImage when the input and/or output structure are not the same with what is inside the mnobd.cdc file or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="693" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="693" bodyend="728"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94aeea752eff283031109152c89cad12c40" compoundref="status_error_define_8h" startline="80">errOplkAllocProcessImage</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ac1fba758bf7bd388901dff034ab55ab3" compoundref="status_error_define_8h" startline="90">errSetupProcessImage</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" compoundref="opl_8cpp" startline="56">pProcessImageIn_l</references>
        <references refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" compoundref="opl_8cpp" startline="60">pProcessImageOut_l</references>
        <referencedby refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" compoundref="opl_8cpp" startline="384" endline="410">initApp</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef extinctOPL</definition>
        <argsstring>()</argsstring>
        <name>extinctOPL</name>
        <briefdescription>
<para>function to shutdown the OpenPOWERLINK module. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>statusErrDef that values errOplkFreeProcessImage when the freeing of memory of the OpenPOWERLINK fails. or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="737" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="737" bodyend="746"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="opl_8cpp_1a85847c888fe35030de14eb5c3190336c" compoundref="opl_8cpp" startline="757" endline="772">shutdownOplImage</references>
        <references refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" compoundref="opl_8cpp" startline="779" endline="813">shutdownPowerlink</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="161">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a85847c888fe35030de14eb5c3190336c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef shutdownOplImage</definition>
        <argsstring>()</argsstring>
        <name>shutdownOplImage</name>
        <briefdescription>
<para>Shutdown the synchronous data application. </para>
        </briefdescription>
        <detaileddescription>
<para>The function shuts down the synchronous data application</para>
<para><simplesect kind="return"><para>statusErrDef that values errOplkFreeProcessImage when the freeing of memory of the OpenPOWERLINK fails. or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="757" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="757" bodyend="772"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94acb7ab15cc47c08906b755f31f53b39b3" compoundref="status_error_define_8h" startline="85">errOplkFreeProcessImage</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <referencedby refid="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" compoundref="opl_8cpp" startline="737" endline="746">extinctOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void shutdownPowerlink</definition>
        <argsstring>(void)</argsstring>
        <name>shutdownPowerlink</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Shutdown the demo application. </para>
        </briefdescription>
        <detaileddescription>
<para>The function shuts down the demo application. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" line="779" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp" bodystart="779" bodyend="813"/>
        <references refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" compoundref="opl_8cpp" startline="45">fGsOff_l</references>
        <referencedby refid="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" compoundref="opl_8cpp" startline="737" endline="746">extinctOPL</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>Module to communicate with the master board using OpenPOWERLINK. </para>
    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para>Mael Parot </para>
</simplesect>
<simplesect kind="version"><para>1.2 </para>
</simplesect>
<simplesect kind="date"><para>11/04/2024</para>
</simplesect>
Contains all functions related to communicating with the master board using OpenPOWERLINK, transfer sensors, valves values and recieve orders from the master. </para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="opl_8h" kindref="compound">opl.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911" kindref="member">Mode</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>=<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref>;</highlight></codeline>
<codeline lineno="24" refid="opl_8cpp_1a205c320e4549a490660d24878aca4d9e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a205c320e4549a490660d24878aca4d9e" kindref="member">cmptEG</ref>;</highlight></codeline>
<codeline lineno="28" refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>=<sp/><ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref><sp/>/<sp/><ref refid="nb_nodes_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref><sp/>-<sp/>2;</highlight></codeline>
<codeline lineno="32" refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>=<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref><sp/>/<sp/><ref refid="nb_nodes_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="comment">//------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="comment">//<sp/>local<sp/>vars</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="comment">//------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="40" refid="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" refkind="member"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>UINT8<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" kindref="member">aMacAddr_l</ref>[]<sp/>=<sp/>{<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00<sp/>};</highlight></codeline>
<codeline lineno="45" refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>BOOL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" kindref="member">fGsOff_l</ref>;</highlight></codeline>
<codeline lineno="50" refid="opl_8cpp_1ae0e41ea82741f096047404d89c71b4b1" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>UINT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ae0e41ea82741f096047404d89c71b4b1" kindref="member">cnt_l</ref>;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>process<sp/>image<sp/>*/</highlight></codeline>
<codeline lineno="56" refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>*<sp/><ref refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" kindref="member">pProcessImageIn_l</ref>;</highlight></codeline>
<codeline lineno="60" refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>*<sp/><ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref>;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>application<sp/>variables<sp/>*/</highlight></codeline>
<codeline lineno="66" refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>int16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" kindref="member">values_In_MN_l</ref>[<ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref>];</highlight></codeline>
<codeline lineno="70" refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>int16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[<ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>];</highlight></codeline>
<codeline lineno="75" refid="opl_8cpp_1a0e551e0042317a6798c4be989015e64b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a0e551e0042317a6798c4be989015e64b" kindref="member">activated_In_MN_l</ref>[<ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref><sp/>+<sp/>2];</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77" refid="classopl_1a43a83ace00cba207a89cf65e3b995d7e" refkind="member"><highlight class="normal"><ref refid="classopl_1a43a83ace00cba207a89cf65e3b995d7e" kindref="member">opl::opl</ref>()</highlight></codeline>
<codeline lineno="78"><highlight class="normal">{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal">}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="classopl_1a8d5d5db31b3d8150af42d2bb000d94fa" refkind="member"><highlight class="normal"><ref refid="classopl_1a8d5d5db31b3d8150af42d2bb000d94fa" kindref="member">opl::~opl</ref>()</highlight></codeline>
<codeline lineno="83"><highlight class="normal">{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//destructor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal">}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="94" refid="opl_8cpp_1a9e9ba7877384a999a6a22fd08b2ce5a1" refkind="member"><highlight class="normal">int16_t*<sp/><ref refid="opl_8cpp_1a9e9ba7877384a999a6a22fd08b2ce5a1" kindref="member">getValues_In_MN</ref>()</highlight></codeline>
<codeline lineno="95"><highlight class="normal">{</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" kindref="member">values_In_MN_l</ref>;</highlight></codeline>
<codeline lineno="97"><highlight class="normal">}</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="opl_8cpp_1ab19dffb79a3af5e336923b27bd441780" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1ab19dffb79a3af5e336923b27bd441780" kindref="member">setValues_Out_MN</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ligne,<sp/>int16_t<sp/>valeur)</highlight></codeline>
<codeline lineno="108"><highlight class="normal">{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[ligne]<sp/>=<sp/>valeur;</highlight></codeline>
<codeline lineno="110"><highlight class="normal">}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="117" refid="opl_8cpp_1a49a4367dee21b29ba4289959d09bdbfc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a49a4367dee21b29ba4289959d09bdbfc" kindref="member">setActivated_In_MN</ref>()</highlight></codeline>
<codeline lineno="118"><highlight class="normal">{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref><sp/>+<sp/>1;<sp/>i++)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a0e551e0042317a6798c4be989015e64b" kindref="member">activated_In_MN_l</ref>[i]<sp/>=<sp/><ref refid="csv_8cpp_1a59b3cd375160ea778a774e62c7c64f7d" kindref="member">getActivation</ref>(i);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="123"><highlight class="normal">}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="130" refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" kindref="member">setEG</ref>(int16_t<sp/>EG)</highlight></codeline>
<codeline lineno="131"><highlight class="normal">{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>%<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[i]<sp/>=<sp/>EG;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="137"><highlight class="normal">}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="144" refid="opl_8cpp_1a0e626359c6d8f3e0bc7e7c19c01fa820" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a0e626359c6d8f3e0bc7e7c19c01fa820" kindref="member">affValeursIn</ref>()</highlight></codeline>
<codeline lineno="145"><highlight class="normal">{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n-------------IN<sp/>MN--------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;values_In_MN_l[%d]=%d\n&quot;</highlight><highlight class="normal">,<sp/>i,<sp/><ref refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" kindref="member">values_In_MN_l</ref>[i]);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n--------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="152"><highlight class="normal">}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="159" refid="opl_8cpp_1a4f204b11f6909d44c14be101d4d01055" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a4f204b11f6909d44c14be101d4d01055" kindref="member">affValeursInProcess</ref>()</highlight></codeline>
<codeline lineno="160"><highlight class="normal">{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n-------------IN<sp/>PROCESS<sp/>MN--------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;pProcessImageOut_l-&gt;out_MN_array[%d]=%d\n&quot;</highlight><highlight class="normal">,<sp/>i,<sp/><ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref>-&gt;<ref refid="struct_p_i___o_u_t_1a694b2a7f1ee5ed56e399348bb5c7649d" kindref="member">out_MN_array</ref>[i]);</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n--------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="167"><highlight class="normal">}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="174" refid="opl_8cpp_1a4694c875ca4b6710094a1116cb75aea0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a4694c875ca4b6710094a1116cb75aea0" kindref="member">affValeursOutProcess</ref>()</highlight></codeline>
<codeline lineno="175"><highlight class="normal">{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n-------------OUT<sp/>PROCESS<sp/>MN--------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;pProcessImageIn_l-&gt;in_MN_array[%d]=%d\n&quot;</highlight><highlight class="normal">,<sp/>i,<sp/><ref refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" kindref="member">pProcessImageIn_l</ref>-&gt;<ref refid="struct_p_i___i_n_1a1f35f6ce611fe3bb17297507b7c76428" kindref="member">in_MN_array</ref>[i]);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n--------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="182"><highlight class="normal">}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="189" refid="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" kindref="member">affValeursOut</ref>()</highlight></codeline>
<codeline lineno="190"><highlight class="normal">{</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n------------OUT<sp/>MN--------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;values_Out_MN_l[%d]=%d\n&quot;</highlight><highlight class="normal">,<sp/>i,<sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[i]);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n--------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="197"><highlight class="normal">}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="204" refid="opl_8cpp_1a42ffa874fd1654b63c707c7444c5f5a7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a42ffa874fd1654b63c707c7444c5f5a7" kindref="member">changeEG</ref>()</highlight></codeline>
<codeline lineno="205"><highlight class="normal">{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="csv_8cpp_1a70bcd737e5a40f36e1cccaf3a7f63379" kindref="member">getEGcsv</ref>(i)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>i--;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>selIndex<sp/>=<sp/><ref refid="opl_8cpp_1a205c320e4549a490660d24878aca4d9e" kindref="member">cmptEG</ref><sp/>%<sp/>i;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>int16_t<sp/>selEG<sp/>=<sp/><ref refid="csv_8cpp_1a70bcd737e5a40f36e1cccaf3a7f63379" kindref="member">getEGcsv</ref>(selIndex<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" kindref="member">setEG</ref>(selEG);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n\nEG<sp/>=<sp/>%d\n\n&quot;</highlight><highlight class="normal">,<sp/>selEG);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a205c320e4549a490660d24878aca4d9e" kindref="member">cmptEG</ref>++;</highlight></codeline>
<codeline lineno="217"><highlight class="normal">}</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="224" refid="opl_8cpp_1aa811a9aae2371f56969a0f49d2fb6a01" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1aa811a9aae2371f56969a0f49d2fb6a01" kindref="member">setEGToManualMode</ref>()</highlight></codeline>
<codeline lineno="225"><highlight class="normal">{</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>==<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref>)</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>=<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" kindref="member">manual</ref>;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" kindref="member">setEG</ref>(<ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a07e3be144c2a7d4c69691470f0bcd261" kindref="member">infoStateToManualMode</ref>);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>==<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" kindref="member">manual</ref>)</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>=<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref>;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" kindref="member">setEG</ref>(1);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n\nmode<sp/>:<sp/>%d\n\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref>);</highlight></codeline>
<codeline lineno="238"><highlight class="normal">}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="247" refid="opl_8cpp_1a2d1d0692ab49f35acb65290d9ffdc46e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a2d1d0692ab49f35acb65290d9ffdc46e" kindref="member">manualActivation</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nodeId,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>valve)</highlight></codeline>
<codeline lineno="248"><highlight class="normal">{</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\nOld<sp/>value<sp/>for<sp/>valve[%d]<sp/>:<sp/>%d,<sp/>nodeId<sp/>:<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>valve<sp/>+<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>*<sp/>(nodeId<sp/>-<sp/>1),</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[valve<sp/>+<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>*<sp/>(nodeId<sp/>-<sp/>1)],<sp/>nodeId);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[valve<sp/>+<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>*<sp/>(nodeId<sp/>-<sp/>1)]<sp/>=<sp/>!<ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[valve<sp/>+<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>*<sp/>(nodeId<sp/>-<sp/>1)];</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;New<sp/>value<sp/>for<sp/>valve[%d]<sp/>:<sp/>%d,<sp/>nodeId<sp/>:<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>valve<sp/>+<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>*<sp/>(nodeId<sp/>-<sp/>1),</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[valve<sp/>+<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>*<sp/>(nodeId<sp/>-<sp/>1)],<sp/>nodeId);</highlight></codeline>
<codeline lineno="256"><highlight class="normal">}</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight><highlight class="comment">//------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight><highlight class="comment">//<sp/>OpenPOWERLINK<sp/>stack<sp/>and<sp/>module<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight><highlight class="comment">//------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="284" refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" kindref="member">initOPL</ref>()</highlight></codeline>
<codeline lineno="285"><highlight class="normal">{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structt_options" kindref="compound">tOptions</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structt_event_config" kindref="compound">tEventConfig</ref><sp/><sp/><sp/><sp/>eventConfig;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>tFirmwareRet<sp/><sp/><sp/><sp/>fwRet;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>OpenPOWERLINK<sp/>parameters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>strncpy(opts.<ref refid="structt_options_1a6ddddbecf7127a1d2a9b9f8e430ce72e" kindref="member">cdcFile</ref>,<sp/><ref refid="config_define_8h_1aa8a09c72ec4b0fb08add063f03dec883" kindref="member">CDCFILE</ref>,<sp/>256);<sp/></highlight><highlight class="comment">//<sp/>the<sp/>cdc<sp/>binary<sp/>file<sp/>name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>strncpy(opts.<ref refid="structt_options_1a32813633c4fc364b2354b34c93af6d5c" kindref="member">fwInfoFile</ref>,<sp/></highlight><highlight class="stringliteral">&quot;fw.info&quot;</highlight><highlight class="normal">,<sp/>256);<sp/></highlight><highlight class="comment">//<sp/>the<sp/>info<sp/>file<sp/>name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>strncpy(opts.<ref refid="structt_options_1a675c269016681a9bf07a16d975c20963" kindref="member">devName</ref>,<sp/><ref refid="config_define_8h_1a563cad7e347a704508920c0c59f74808" kindref="member">DEVNAME</ref>,<sp/>128);<sp/></highlight><highlight class="comment">//the<sp/>network<sp/>device<sp/>or<sp/>interface<sp/>(in<sp/>linux<sp/>it<sp/>is<sp/>eth0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//set<sp/>the<sp/>OpenPOWERLINK<sp/>log<sp/>settings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1a7d8b6a0dc8e19d43ed48e2a7f0b47da8" kindref="member">pLogFile</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ad4dfda079fb51a7c23ff0321a2fc920e" kindref="member">logFormat</ref><sp/>=<sp/>kEventlogFormatReadable;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ac2d0a48a3d2ed344da01233e48372775" kindref="member">logCategory</ref><sp/>=<sp/>0xffffffff;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ac41ac397dd5398c735a7845a023e7877" kindref="member">logLevel</ref><sp/>=<sp/>0xffffffff;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>connexion<sp/>between<sp/>the<sp/>OpenPOWERLINK<sp/>stack<sp/>and<sp/>the<sp/>operating<sp/>system</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(system_init()<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>initializing<sp/>system!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ae1a5bbac3235cbdf4dfdaf395813d328" kindref="member">errOPLSystemInit</ref>;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>OpenPOWERLINK<sp/>firmware<sp/>manager</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>fwRet<sp/>=<sp/>firmwaremanager_init(opts.<ref refid="structt_options_1a32813633c4fc364b2354b34c93af6d5c" kindref="member">fwInfoFile</ref>);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fwRet<sp/>!=<sp/>kFwReturnOk)</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>initializing<sp/>firmware<sp/>manager!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a0d3760066c986a1d218efcd7a8144ce5" kindref="member">errInitFirmwareManager</ref>;</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>logs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_init(opts.<ref refid="structt_options_1ad4dfda079fb51a7c23ff0321a2fc920e" kindref="member">logFormat</ref>,</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ac41ac397dd5398c735a7845a023e7877" kindref="member">logLevel</ref>,</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ac2d0a48a3d2ed344da01233e48372775" kindref="member">logCategory</ref>,</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(tEventlogOutputCb)console_printlogadd);</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>application<sp/>event<sp/>module</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;eventConfig,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structt_event_config" kindref="compound">tEventConfig</ref>));</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>eventConfig.<ref refid="structt_event_config_1a5baa11deb2b8d39e42178a4a72100292" kindref="member">pfGsOff</ref><sp/>=<sp/>&amp;<ref refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" kindref="member">fGsOff_l</ref>;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>eventConfig.<ref refid="structt_event_config_1a210224e651107b9afb21698ad40d9ad0" kindref="member">pfnFirmwareManagerCallback</ref><sp/>=<sp/>firmwaremanager_processEvent;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="event_opl_8c_1a708072d52104add21873311bb5ad111a" kindref="member">initEvents</ref>(&amp;eventConfig);</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;----------------------------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;openPOWERLINK<sp/>OBC<sp/>MN<sp/>application\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Using<sp/>openPOWERLINK<sp/>stack:<sp/>%s\n&quot;</highlight><highlight class="normal">,<sp/>oplk_getVersionString());</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;----------------------------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//print<sp/>into<sp/>the<sp/>console,<sp/>the<sp/>OPL<sp/>stack<sp/>parameters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryGeneric,</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;demo_mn_console:<sp/>Stack<sp/>version:%s<sp/>Stack<sp/>configuration:0x%08X&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oplk_getVersionString(),</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oplk_getStackConfiguration());</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//activate<sp/>the<sp/>values<sp/>coming<sp/>out<sp/>of<sp/>the<sp/>CN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a49a4367dee21b29ba4289959d09bdbfc" kindref="member">setActivated_In_MN</ref>();</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//print<sp/>into<sp/>the<sp/>console,<sp/>the<sp/>cdc<sp/>binary<sp/>file<sp/>name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryGeneric,</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Using<sp/>CDC<sp/>file:<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1a6ddddbecf7127a1d2a9b9f8e430ce72e" kindref="member">cdcFile</ref>);</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>POWERLINK<sp/>instance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1a79db23e985d7f28a067c6a822761b5f9" kindref="member">initPowerlink</ref>(<ref refid="config_define_8h_1ac9ac8ba41c4385306791b6640b1d51dc" kindref="member">CYCLE_LEN</ref>,</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1a6ddddbecf7127a1d2a9b9f8e430ce72e" kindref="member">cdcFile</ref>,</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1a675c269016681a9bf07a16d975c20963" kindref="member">devName</ref>,</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" kindref="member">aMacAddr_l</ref>);</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res<sp/>!=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>)</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Process<sp/>the<sp/>RPDO<sp/>and<sp/>TPDO<sp/>to<sp/>the<sp/>OpenPOWERLINK<sp/>stack</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" kindref="member">initApp</ref>();</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res<sp/>!=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>)</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Initialize<sp/>the<sp/>OpenPOWERLINK<sp/>cycle<sp/>thread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1a5f36f28eb56f576908d03b70ebc711f0" kindref="member">initOplThread</ref>();</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res<sp/>!=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>)</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="370"><highlight class="normal">}</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="384" refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1abff5ae651c9c5931bdf8dfcb7e64d689" kindref="member">initApp</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="385"><highlight class="normal">{</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/>res<sp/>=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i;</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ae0e41ea82741f096047404d89c71b4b1" kindref="member">cnt_l</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>to<sp/>0<sp/>the<sp/>array<sp/>values<sp/>at<sp/>the<sp/>initialization<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" kindref="member">values_In_MN_l</ref>[i]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[i]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>=<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref>;</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a70d6c24319699ddf386b7ed176641580" kindref="member">setEG</ref>(1);</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;<ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref>));</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" kindref="member">initProcessImage</ref>();</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="410"><highlight class="normal">}</highlight></codeline>
<codeline lineno="411"><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="434" refid="opl_8cpp_1a79db23e985d7f28a067c6a822761b5f9" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a79db23e985d7f28a067c6a822761b5f9" kindref="member">initPowerlink</ref>(UINT32<sp/>cycleLen_p,</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>cdcFileName_p,</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>devName_p,</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>UINT8*<sp/>macAddr_p)</highlight></codeline>
<codeline lineno="438"><highlight class="normal">{</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkApiInitParam<sp/><sp/><sp/>initParam;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>devName[128];</highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>openPOWERLINK<sp/>stack...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Initializing<sp/>openPOWERLINK<sp/>stack&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryGeneric,</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Select<sp/>the<sp/>network<sp/>interface&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//select<sp/>manually<sp/>the<sp/>network<sp/>interface<sp/>in<sp/>Windows<sp/>otherwise<sp/>it<sp/>is<sp/>eth0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(TARGET_SYSTEM<sp/>==<sp/>_WIN32_)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(netselect_selectNetworkInterface(devName,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(devName))<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a3ccc2755005e3b8f7aedd3787bef4869" kindref="member">errSelNetInterface</ref>;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(devName,<sp/>devName_p,<sp/>128);</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;DEVNAME<sp/>:<sp/>%s<sp/>\n&quot;</highlight><highlight class="normal">,<sp/>devName);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;initParam,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(initParam));</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.sizeOfInitParam<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(initParam);</highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>pass<sp/>selected<sp/>device<sp/>name<sp/>to<sp/>Edrv</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.hwParam.pDevName<sp/>=<sp/>devName;</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.nodeId<sp/>=<sp/><ref refid="config_define_8h_1a2f7945514ea8b2c7145cf68d47c96a08" kindref="member">NODEID</ref>;<sp/></highlight><highlight class="comment">//<sp/>the<sp/>MN<sp/>number<sp/>(240<sp/>by<sp/>default)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.ipAddress<sp/>=<sp/>(0xFFFFFF00<sp/>&amp;<sp/><ref refid="config_define_8h_1a14b0a7da8cf3edbfec9630c2ec290148" kindref="member">IP_ADDR</ref>)<sp/>|<sp/>initParam.nodeId;<sp/></highlight><highlight class="comment">//<sp/>the<sp/>ip<sp/>address<sp/>with<sp/>a<sp/>/24<sp/>network<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>write<sp/>00:00:00:00:00:00<sp/>to<sp/>MAC<sp/>address,<sp/>so<sp/>that<sp/>the<sp/>driver<sp/>uses<sp/>the<sp/>real<sp/>hardware<sp/>address<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(initParam.aMacAddress,<sp/>macAddr_p,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(initParam.aMacAddress));</highlight></codeline>
<codeline lineno="471"><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.fAsyncOnly<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.featureFlags<sp/>=<sp/>UINT_MAX;</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.cycleLen<sp/>=<sp/>cycleLen_p;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>error<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.isochrTxMaxPayload<sp/>=<sp/>256;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>const</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.isochrRxMaxPayload<sp/>=<sp/>1490;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>const</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.presMaxLatency<sp/>=<sp/>50000;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>const;<sp/>only<sp/>required<sp/>for<sp/>IdentRes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.preqActPayloadLimit<sp/>=<sp/>36;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>initialisation<sp/>(+28<sp/>bytes)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.presActPayloadLimit<sp/>=<sp/>36;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>initialisation<sp/>of<sp/>Pres<sp/>frame<sp/>(+28<sp/>bytes)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.asndMaxLatency<sp/>=<sp/>150000;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>const;<sp/>only<sp/>required<sp/>for<sp/>IdentRes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.multiplCylceCnt<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>error<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.asyncMtu<sp/>=<sp/>1500;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>to<sp/>set<sp/>up<sp/>max<sp/>frame<sp/>size</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.prescaler<sp/>=<sp/>2;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>sync</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.lossOfFrameTolerance<sp/>=<sp/>500000;</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.asyncSlotTimeout<sp/>=<sp/>3000000;</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.waitSocPreq<sp/>=<sp/>1000;</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.deviceType<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_DeviceType_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.vendorId<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_IdentityObject_REC.VendorId_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.productCode<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_IdentityObject_REC.ProductCode_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.revisionNumber<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_IdentityObject_REC.RevisionNo_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.serialNumber<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_IdentityObject_REC.SerialNo_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.subnetMask<sp/>=<sp/><ref refid="config_define_8h_1a2277cfa773d618a987524fc0590fe253" kindref="member">SUBNET_MASK</ref>;<sp/></highlight><highlight class="comment">//<sp/>255.255.255.0<sp/>or<sp/>/24<sp/>network<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.defaultGateway<sp/>=<sp/><ref refid="config_define_8h_1ab0092e2619bef8d5375800f507d3080c" kindref="member">DEFAULT_GATEWAY</ref>;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/>sprintf((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)initParam.sHostname,<sp/></highlight><highlight class="stringliteral">&quot;%02x-%08x&quot;</highlight><highlight class="normal">,<sp/>initParam.nodeId,<sp/>initParam.vendorId);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.syncNodeId<sp/>=<sp/>C_ADR_SYNC_ON_SOA;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.fSyncOnPrcNode<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>callback<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.pfnCbEvent<sp/>=<sp/><ref refid="event_opl_8c_1ad6f574bee28d3a8f66b5885f365a8df2" kindref="member">processEvents</ref>;</highlight></codeline>
<codeline lineno="501"><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>important:<sp/>set<sp/>the<sp/>OpenPOWERLINK<sp/>cycle<sp/>actions<sp/>synced<sp/>between<sp/>all<sp/>CNs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.pfnCbSync<sp/>=<sp/><ref refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" kindref="member">processSync</ref>;</highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>object<sp/>dictionary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>obdcreate_initObd(&amp;initParam.obdInitParam);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;obdcreate_initObd()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a3ebf20f82ef4ab6c130e48091c95cba7" kindref="member">errInitObjDictionary</ref>;</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>initialize<sp/>POWERLINK<sp/>stack</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_initialize();</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_initialize()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_init()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a93dde49c48ef9bb619348e72d664c43d" kindref="member">errOplkInit</ref>;</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="532"><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_create(&amp;initParam);</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_create()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ae58a341d48e59f97d21886e8e27b0db8" kindref="member">errOplkCreate</ref>;</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_setCdcFilename(cdcFileName_p);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_setCdcFilename()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_setCdcFilename()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a8de9d8ff43159f5a2951d00c9e67ceaa" kindref="member">errOplkSetCDCFileName</ref>;</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="557"><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="559"><highlight class="normal">}</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight></codeline>
<codeline lineno="571" refid="opl_8cpp_1a6113e17ab32811ea2704cbfbb967c64f" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a6113e17ab32811ea2704cbfbb967c64f" kindref="member">checkStateOpl</ref>()</highlight></codeline>
<codeline lineno="572"><highlight class="normal">{</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Check<sp/>if<sp/>a<sp/>termination<sp/>signal<sp/>has<sp/>been<sp/>received<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(system_getTermSignalState()<sp/>!=<sp/>FALSE)</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Received<sp/>termination<sp/>signal,<sp/>exiting...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Received<sp/>termination<sp/>signal,<sp/>exiting...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a577af9c3c84d95925e05d66000b3d411" kindref="member">errSystemSendTerminate</ref>;</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Check<sp/>if<sp/>the<sp/>OpenPOWERLINK<sp/>stack<sp/>crashed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oplk_checkKernelStack()<sp/>==<sp/>FALSE)</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,<sp/></highlight><highlight class="stringliteral">&quot;Kernel<sp/>stack<sp/>has<sp/>gone!<sp/>Exiting...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Kernel<sp/>stack<sp/>has<sp/>gone!<sp/>Exiting...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a34e5cf990e434aa370892b7d204206c8" kindref="member">errOplKernelStackDown</ref>;</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="592"><highlight class="normal">}</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="604" refid="opl_8cpp_1a5f36f28eb56f576908d03b70ebc711f0" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a5f36f28eb56f576908d03b70ebc711f0" kindref="member">initOplThread</ref>()</highlight></codeline>
<codeline lineno="605"><highlight class="normal">{</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/>system_startFirmwareManagerThread(firmwaremanager_thread,<sp/>5);</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>start<sp/>stack<sp/>processing<sp/>by<sp/>sending<sp/>a<sp/>NMT<sp/>reset<sp/>command</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_execNmtCommand(kNmtEventSwReset);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_execNmtCommand()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94adc47549c3ae339d7b2b8d77ac0ad63bf" kindref="member">errSendNMTResetCommand</ref>;</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="623"><highlight class="normal">}</highlight></codeline>
<codeline lineno="624"><highlight class="normal"></highlight></codeline>
<codeline lineno="632" refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" refkind="member"><highlight class="normal">tOplkError<sp/><ref refid="opl_8cpp_1ac86056da77ac48c34bffd6a85f4567fe" kindref="member">processSync</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="633"><highlight class="normal">{</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret;</highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Wait<sp/>for<sp/>the<sp/>OpenPOWERLINK<sp/>cycle<sp/>to<sp/>start</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_waitSyncEvent(100000);</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Receive<sp/>OpenPOWERLINK<sp/>RPDOs<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_exchangeProcessImageOut();</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="645"><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ae0e41ea82741f096047404d89c71b4b1" kindref="member">cnt_l</ref>++;</highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Process<sp/>PI_OUT<sp/>--&gt;<sp/>variables<sp/>entrant<sp/>dans<sp/>le<sp/>MN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1af4b594e09b0017400404bcf5415d116d" kindref="member">values_In_MN_l</ref>[i]<sp/>=<sp/><ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref>-&gt;<ref refid="struct_p_i___o_u_t_1a694b2a7f1ee5ed56e399348bb5c7649d" kindref="member">out_MN_array</ref>[i];</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="653"><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Process<sp/>PI_IN<sp/>--&gt;<sp/>variables<sp/>sortant<sp/>du<sp/>MN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(i<sp/>%<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref>+1)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" kindref="member">pProcessImageIn_l</ref>-&gt;<ref refid="struct_p_i___i_n_1a1f35f6ce611fe3bb17297507b7c76428" kindref="member">in_MN_array</ref>[i]<sp/>=<sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[i];</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="660"><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref>)</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref>:<sp/></highlight><highlight class="comment">//<sp/>mode<sp/>automatique<sp/>:<sp/>lecture<sp/>de<sp/>l&apos;état<sp/>des<sp/>vannes<sp/>depuis<sp/>le<sp/>CSV<sp/>de<sp/>l&apos;etat<sp/>general<sp/>actuel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" kindref="member">manual</ref>:<sp/></highlight><highlight class="comment">//<sp/>mode<sp/>manuel<sp/>:<sp/>l&apos;état<sp/>des<sp/>vannes<sp/>proviennent<sp/>directement<sp/>du<sp/>MN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>1;<sp/>i<sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>%<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" kindref="member">pProcessImageIn_l</ref>-&gt;<ref refid="struct_p_i___i_n_1a1f35f6ce611fe3bb17297507b7c76428" kindref="member">in_MN_array</ref>[i]<sp/>=<sp/><ref refid="opl_8cpp_1a2b050eb987e68b5cfcc0cc906a23d8b5" kindref="member">values_Out_MN_l</ref>[i];</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Send<sp/>OpenPOWERLINK<sp/>TPDOs<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_exchangeProcessImageIn();</highlight></codeline>
<codeline lineno="677"><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="679"><highlight class="normal">}</highlight></codeline>
<codeline lineno="680"><highlight class="normal"></highlight></codeline>
<codeline lineno="693" refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" kindref="member">initProcessImage</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="694"><highlight class="normal">{</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/>UINT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>errorIndex<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="697"><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>process<sp/>image<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>process<sp/>image...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Size<sp/>of<sp/>process<sp/>image:<sp/>Input<sp/>=<sp/>%lu<sp/>Output<sp/>=<sp/>%lu\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ULONG)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>),</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ULONG)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>));</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryGeneric,</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Allocating<sp/>process<sp/>image:<sp/>Input:%lu<sp/>Output:%lu&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ULONG)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>),</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ULONG)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>));</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Allocate<sp/>into<sp/>memory<sp/>the<sp/>RPDO<sp/>and<sp/>TPDO<sp/>from<sp/>their<sp/>cumulative<sp/>size</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_allocProcessImage(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>),<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>));</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94aeea752eff283031109152c89cad12c40" kindref="member">errOplkAllocProcessImage</ref>;</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ad5746db5390826ccda7b61bc0d3c8af2" kindref="member">pProcessImageIn_l</ref><sp/>=<sp/>(<ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>*)oplk_getProcessImageIn();</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref><sp/>=<sp/>(<ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>*)oplk_getProcessImageOut();</highlight></codeline>
<codeline lineno="716"><highlight class="normal"></highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/>errorIndex<sp/>=<sp/>obdpi_setupProcessImage();</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(errorIndex<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Setup<sp/>process<sp/>image<sp/>failed<sp/>at<sp/>index<sp/>0x%04x\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>errorIndex);</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ac1fba758bf7bd388901dff034ab55ab3" kindref="member">errSetupProcessImage</ref>;</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="726"><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="728"><highlight class="normal">}</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="737" refid="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" kindref="member">extinctOPL</ref>()</highlight></codeline>
<codeline lineno="738"><highlight class="normal">{</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/>res<sp/>=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="740"><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1a85847c888fe35030de14eb5c3190336c" kindref="member">shutdownOplImage</ref>();</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" kindref="member">shutdownPowerlink</ref>();</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/>firmwaremanager_exit();</highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="746"><highlight class="normal">}</highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight></codeline>
<codeline lineno="757" refid="opl_8cpp_1a85847c888fe35030de14eb5c3190336c" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a85847c888fe35030de14eb5c3190336c" kindref="member">shutdownOplImage</ref>()</highlight></codeline>
<codeline lineno="758"><highlight class="normal">{</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret;</highlight></codeline>
<codeline lineno="760"><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_freeProcessImage();</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_freeProcessImage()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94acb7ab15cc47c08906b755f31f53b39b3" kindref="member">errOplkFreeProcessImage</ref>;</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="770"><highlight class="normal"></highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="772"><highlight class="normal">}</highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight></codeline>
<codeline lineno="779" refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" kindref="member">shutdownPowerlink</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="780"><highlight class="normal">{</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/>UINT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i;</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="783"><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_GS_OFF<sp/>state<sp/>has<sp/>not<sp/>yet<sp/>been<sp/>reached</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" kindref="member">fGsOff_l</ref><sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="786"><highlight class="normal"></highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/>system_stopFirmwareManagerThread();</highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>halt<sp/>the<sp/>NMT<sp/>state<sp/>machine<sp/>so<sp/>the<sp/>processing<sp/>of<sp/>POWERLINK<sp/>frames<sp/>stops</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_execNmtCommand(kNmtEventSwitchOff);</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_execNmtCommand()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="798"><highlight class="normal"></highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>small<sp/>loop<sp/>to<sp/>implement<sp/>timeout<sp/>waiting<sp/>for<sp/>thread<sp/>to<sp/>terminate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>1000;<sp/>i++)</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" kindref="member">fGsOff_l</ref>)</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="805"><highlight class="normal"></highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Stack<sp/>is<sp/>in<sp/>state<sp/>off<sp/>...<sp/>Shutdown\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Stack<sp/>is<sp/>in<sp/>state<sp/>off<sp/>...<sp/>Shutdown<sp/>openPOWERLINK&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/>oplk_destroy();</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/>oplk_exit();</highlight></codeline>
<codeline lineno="813"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/OBC_MN/src/opl.cpp"/>
  </compounddef>
</doxygen>
