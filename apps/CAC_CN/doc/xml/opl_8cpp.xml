<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.10.0" xml:lang="en-US">
  <compounddef id="opl_8cpp" kind="file" language="C++">
    <compoundname>opl.cpp</compoundname>
    <includes refid="opl_8h" local="yes">opl.h</includes>
    <incdepgraph>
      <node id="5">
        <label>configDefine.h</label>
        <link refid="config_define_8h"/>
      </node>
      <node id="14">
        <label>csv.h</label>
        <link refid="csv_8h"/>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>eventOpl.h</label>
        <link refid="event_opl_8h"/>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>nodeId.h</label>
        <link refid="node_id_8h"/>
      </node>
      <node id="2">
        <label>opl.h</label>
        <link refid="opl_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>sensor.h</label>
        <link refid="sensor_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>statusErrorDefine.h</label>
        <link refid="status_error_define_8h"/>
      </node>
      <node id="25">
        <label>valve.h</label>
        <link refid="valve_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>xapOpl.h</label>
        <link refid="xap_opl_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp</label>
        <link refid="opl_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>console/console.h</label>
      </node>
      <node id="27">
        <label>cstdlib</label>
      </node>
      <node id="17">
        <label>ctype.h</label>
      </node>
      <node id="20">
        <label>errno.h</label>
      </node>
      <node id="11">
        <label>eventlog/eventlog.h</label>
      </node>
      <node id="19">
        <label>fcntl.h</label>
      </node>
      <node id="28">
        <label>filesystem</label>
      </node>
      <node id="23">
        <label>getopt/getopt.h</label>
      </node>
      <node id="32">
        <label>inttypes.h</label>
      </node>
      <node id="24">
        <label>io.h</label>
      </node>
      <node id="29">
        <label>iostream</label>
      </node>
      <node id="36">
        <label>limits.h</label>
      </node>
      <node id="35">
        <label>netselect/netselect.h</label>
      </node>
      <node id="34">
        <label>obdcreate/obdcreate.h</label>
      </node>
      <node id="9">
        <label>oplk/debugstr.h</label>
      </node>
      <node id="8">
        <label>oplk/oplk.h</label>
      </node>
      <node id="22">
        <label>signal.h</label>
      </node>
      <node id="31">
        <label>stdbool.h</label>
      </node>
      <node id="30">
        <label>stddef.h</label>
      </node>
      <node id="4">
        <label>stdint.h</label>
      </node>
      <node id="12">
        <label>stdio.h</label>
      </node>
      <node id="15">
        <label>stdlib.h</label>
      </node>
      <node id="16">
        <label>string</label>
      </node>
      <node id="21">
        <label>sys/types.h</label>
      </node>
      <node id="33">
        <label>system/system.h</label>
      </node>
      <node id="26">
        <label>time.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="var">
      <memberdef kind="variable" id="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" prot="public" static="no" mutable="no">
        <type>int16_t</type>
        <definition>int16_t EG</definition>
        <argsstring></argsstring>
        <name>EG</name>
        <initializer>= 0</initializer>
        <briefdescription>
<para>the general state from the MN (the OBC). It is initialized to 0 so a general state CSV file with EG = 0x0000 should not exist. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="19" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="19" bodyend="-1"/>
        <referencedby refid="csv_8cpp_1a57ce52f959b46f63b41ea53578833174" compoundref="csv_8cpp" startline="61" endline="124">initCSV</referencedby>
        <referencedby refid="opl_8cpp_1af37cdd5c32789328a95994329b009c24" compoundref="opl_8cpp" startline="256" endline="280">isEGchanged</referencedby>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="216">main</referencedby>
        <referencedby refid="csv_8cpp_1a44cd2131057b27749a53caad3ec77eb9" compoundref="csv_8cpp" startline="135" endline="179">refreshCSV</referencedby>
        <referencedby refid="csv_8cpp_1a6b63c44df8b905d77b2c66f1cea86204" compoundref="csv_8cpp" startline="749" endline="758">searchEG</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" prot="public" static="no" mutable="no">
        <type>int16_t</type>
        <definition>int16_t EC</definition>
        <argsstring></argsstring>
        <name>EC</name>
        <initializer>= <ref refid="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" kindref="member">EG</ref></initializer>
        <briefdescription>
<para>the board state of this CN (this CAC board). It is initialized to the copy of the general state EG. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="24" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="24" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1af37cdd5c32789328a95994329b009c24" compoundref="opl_8cpp" startline="256" endline="280">isEGchanged</referencedby>
        <referencedby refid="opl_8cpp_1acf0a7eab36c0d4e61e865dbfca0fc575" compoundref="opl_8cpp" startline="287" endline="290">setEC</referencedby>
        <referencedby refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" compoundref="opl_8cpp" startline="196" endline="210">setValues_Out_CN</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" prot="public" static="no" mutable="no">
        <type><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911" kindref="member">Mode</ref></type>
        <definition>Mode mode</definition>
        <argsstring></argsstring>
        <name>mode</name>
        <initializer>= <ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref></initializer>
        <briefdescription>
<para>the mode of the program. It is initialized to the automatic mode, the general state CSV files are first used. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="30" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="30" bodyend="-1"/>
        <referencedby refid="classvalve_1aac2cd5441d1c1a1180e18af2468a4547" compoundref="valve_8cpp" startline="179" endline="212">valve::actionnementValve</referencedby>
        <referencedby refid="opl_8cpp_1af37cdd5c32789328a95994329b009c24" compoundref="opl_8cpp" startline="256" endline="280">isEGchanged</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
        <referencedby refid="classvalve_1a1364f1770f8218d7a0077ca2a953371b" compoundref="valve_8cpp" startline="226" endline="298">valve::verifDependanceValves</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" prot="public" static="no" mutable="no">
        <type>const uint16_t</type>
        <definition>const uint16_t nbValuesCN_Out</definition>
        <argsstring></argsstring>
        <name>nbValuesCN_Out</name>
        <initializer>= <ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref> / <ref refid="node_id_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref> - 1</initializer>
        <briefdescription>
<para>the number of values coming out of each CNs </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="34" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="34" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" compoundref="opl_8cpp" startline="169" endline="177">affValeursOut</referencedby>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
        <referencedby refid="classsensor_1a136fdef7c492900f3ff9baa211607cb5" compoundref="sensor_8cpp" startline="69" endline="120">sensor::initSensor</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
        <referencedby refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" compoundref="opl_8cpp" startline="196" endline="210">setValues_Out_CN</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" prot="public" static="no" mutable="no">
        <type>const uint16_t</type>
        <definition>const uint16_t nbValuesCN_In</definition>
        <argsstring></argsstring>
        <name>nbValuesCN_In</name>
        <initializer>= <ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref> / <ref refid="node_id_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref> - 1</initializer>
        <briefdescription>
<para>the number of values coming into each CNs </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="38" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="38" bodyend="-1"/>
        <referencedby refid="valve_8cpp_1a659d21ba354b3f756293314bf2c8dfc4" compoundref="valve_8cpp" startline="509" endline="516">getValveValue</referencedby>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
        <referencedby refid="classvalve_1ae69c309265ce0269e0207043fb6b06ca" compoundref="valve_8cpp" startline="319" endline="381">valve::isDependanceActive</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1afbb7865bc950120040f337a3631fc921" prot="public" static="no" mutable="no">
        <type>const uint16_t</type>
        <definition>const uint16_t nbValuesCN_Out_ByCN</definition>
        <argsstring></argsstring>
        <name>nbValuesCN_Out_ByCN</name>
        <initializer>= (<ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref> / <ref refid="node_id_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref>) * (<ref refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" kindref="member">NODEID</ref> - 1)</initializer>
        <briefdescription>
<para>the first value position coming out of this CN (the position of EC) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="42" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="42" bodyend="-1"/>
        <referencedby refid="classvalve_1a82140bbfd1329eea0100b8359cc9ebc2" compoundref="valve_8cpp" startline="135" endline="164">valve::actionnementValvesInit</referencedby>
        <referencedby refid="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" compoundref="opl_8cpp" startline="169" endline="177">affValeursOut</referencedby>
        <referencedby refid="classvalve_1a3db8975d7c2cc46b33fd65e683e8c6df" compoundref="valve_8cpp" startline="431" endline="456">valve::extinctValve</referencedby>
        <referencedby refid="valve_8cpp_1ad4e5b817af0b9501d2a6e6deb0c89445" compoundref="valve_8cpp" startline="483" endline="499">getValvesInitValue</referencedby>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
        <referencedby refid="classsensor_1a136fdef7c492900f3ff9baa211607cb5" compoundref="sensor_8cpp" startline="69" endline="120">sensor::initSensor</referencedby>
        <referencedby refid="classvalve_1a86e16a5cc95d9bec4ee8eec6722760fe" compoundref="valve_8cpp" startline="73" endline="124">valve::initValve</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
        <referencedby refid="valve_8cpp_1ad6ff3dc82333091b53b2fbdc3ef5842e" compoundref="valve_8cpp" startline="525" endline="536">resetTimers</referencedby>
        <referencedby refid="classopl_1ad188b100fd92fcc210bd48ea4e08a36f" compoundref="opl_8cpp" startline="129" endline="132">opl::sendError</referencedby>
        <referencedby refid="classopl_1afcb3f7b05602f12b72bc97404795ef42" compoundref="opl_8cpp" startline="118" endline="121">opl::sendTelem</referencedby>
        <referencedby refid="opl_8cpp_1acf0a7eab36c0d4e61e865dbfca0fc575" compoundref="opl_8cpp" startline="287" endline="290">setEC</referencedby>
        <referencedby refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" compoundref="opl_8cpp" startline="196" endline="210">setValues_Out_CN</referencedby>
        <referencedby refid="valve_8cpp_1add60b51091e6e3c9653ed8400895e3a1" compoundref="valve_8cpp" startline="464" endline="473">setValvesValue</referencedby>
        <referencedby refid="classvalve_1a1364f1770f8218d7a0077ca2a953371b" compoundref="valve_8cpp" startline="226" endline="298">valve::verifDependanceValves</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" prot="public" static="no" mutable="no">
        <type>const uint16_t</type>
        <definition>const uint16_t nbValuesCN_In_ByCN</definition>
        <argsstring></argsstring>
        <name>nbValuesCN_In_ByCN</name>
        <initializer>= (<ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref> / <ref refid="node_id_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref>) * (<ref refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" kindref="member">NODEID</ref> - 1)</initializer>
        <briefdescription>
<para>the first value position coming into this CN (the position of EG) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="46" column="22" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="46" bodyend="-1"/>
        <referencedby refid="classvalve_1aac2cd5441d1c1a1180e18af2468a4547" compoundref="valve_8cpp" startline="179" endline="212">valve::actionnementValve</referencedby>
        <referencedby refid="classopl_1ac3e6c6fb9c8d2a10d4437877651167bb" compoundref="opl_8cpp" startline="103" endline="110">opl::demandeExtinctOPL</referencedby>
        <referencedby refid="opl_8cpp_1aa1f5fd46ab8ace6894efe23293d8a9b8" compoundref="opl_8cpp" startline="242" endline="246">getEG</referencedby>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
        <referencedby refid="classvalve_1ae69c309265ce0269e0207043fb6b06ca" compoundref="valve_8cpp" startline="319" endline="381">valve::isDependanceActive</referencedby>
        <referencedby refid="opl_8cpp_1af37cdd5c32789328a95994329b009c24" compoundref="opl_8cpp" startline="256" endline="280">isEGchanged</referencedby>
        <referencedby refid="classvalve_1a5dae9e8165e79289e59e2426f9d75d29" compoundref="valve_8cpp" startline="408" endline="419">valve::isTimerExeeded</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
        <referencedby refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" compoundref="opl_8cpp" startline="196" endline="210">setValues_Out_CN</referencedby>
        <referencedby refid="valve_8cpp_1add60b51091e6e3c9653ed8400895e3a1" compoundref="valve_8cpp" startline="464" endline="473">setValvesValue</referencedby>
        <referencedby refid="classvalve_1a1364f1770f8218d7a0077ca2a953371b" compoundref="valve_8cpp" startline="226" endline="298">valve::verifDependanceValves</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" prot="public" static="yes" mutable="no">
        <type>const UINT8</type>
        <definition>const UINT8 aMacAddr_l[]</definition>
        <argsstring>[]</argsstring>
        <name>aMacAddr_l</name>
        <initializer>= { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 }</initializer>
        <briefdescription>
<para>the LAN card mac address </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="54" column="32" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="54" bodyend="54"/>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="321" endline="384">initOPL</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" prot="public" static="yes" mutable="no">
        <type>BOOL</type>
        <definition>BOOL fGsOff_l</definition>
        <argsstring></argsstring>
        <name>fGsOff_l</name>
        <briefdescription>
<para>Pointer to GsOff flag (determines that OpenPOWERLINK stack is down) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="59" column="32" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="59" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="321" endline="384">initOPL</referencedby>
        <referencedby refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" compoundref="opl_8cpp" startline="907" endline="938">shutdownPowerlink</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" prot="public" static="yes" mutable="no">
        <type>const <ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref> *</type>
        <definition>const PI_IN* pProcessImageIn_l</definition>
        <argsstring></argsstring>
        <name>pProcessImageIn_l</name>
        <briefdescription>
<para>the TPDO process variable (coming out of the CN) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="65" column="20" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="65" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a7a60aa76d8b9af7a1930275e02aa2ab5" compoundref="opl_8cpp" startline="154" endline="162">affValeursProcessIn</referencedby>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" prot="public" static="yes" mutable="no">
        <type><ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref> *</type>
        <definition>PI_OUT* pProcessImageOut_l</definition>
        <argsstring></argsstring>
        <name>pProcessImageOut_l</name>
        <briefdescription>
<para>the RPDO process variable (coming into the CN) </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="69" column="15" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="69" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" prot="public" static="yes" mutable="no">
        <type>int16_t</type>
        <definition>int16_t values_In_CN_l[SIZE_IN]</definition>
        <argsstring>[SIZE_IN]</argsstring>
        <name>values_In_CN_l</name>
        <briefdescription>
<para>array of incoming values from the MN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="75" column="32" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="75" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a0e626359c6d8f3e0bc7e7c19c01fa820" compoundref="opl_8cpp" startline="139" endline="147">affValeursIn</referencedby>
        <referencedby refid="classopl_1ac3e6c6fb9c8d2a10d4437877651167bb" compoundref="opl_8cpp" startline="103" endline="110">opl::demandeExtinctOPL</referencedby>
        <referencedby refid="opl_8cpp_1aa1f5fd46ab8ace6894efe23293d8a9b8" compoundref="opl_8cpp" startline="242" endline="246">getEG</referencedby>
        <referencedby refid="opl_8cpp_1ad0b902027740ec16636d93ee162aeb5d" compoundref="opl_8cpp" startline="186" endline="189">getValues_In_CN</referencedby>
        <referencedby refid="opl_8cpp_1af37cdd5c32789328a95994329b009c24" compoundref="opl_8cpp" startline="256" endline="280">isEGchanged</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
        <referencedby refid="opl_8cpp_1ae81275d52dd3a37962b186af93bfad39" compoundref="opl_8cpp" startline="687" endline="690">setupInputs</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" prot="public" static="yes" mutable="no">
        <type>int16_t</type>
        <definition>int16_t values_Out_CN_l[SIZE_OUT]</definition>
        <argsstring>[SIZE_OUT]</argsstring>
        <name>values_Out_CN_l</name>
        <briefdescription>
<para>array of values coming out of the CN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="79" column="32" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="79" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" compoundref="opl_8cpp" startline="169" endline="177">affValeursOut</referencedby>
        <referencedby refid="opl_8cpp_1a77c6ae0352e357ac9d8bdb83fe406e64" compoundref="opl_8cpp" startline="219" endline="222">getValues_Out_CN</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
        <referencedby refid="classopl_1ad188b100fd92fcc210bd48ea4e08a36f" compoundref="opl_8cpp" startline="129" endline="132">opl::sendError</referencedby>
        <referencedby refid="classopl_1afcb3f7b05602f12b72bc97404795ef42" compoundref="opl_8cpp" startline="118" endline="121">opl::sendTelem</referencedby>
        <referencedby refid="opl_8cpp_1acf0a7eab36c0d4e61e865dbfca0fc575" compoundref="opl_8cpp" startline="287" endline="290">setEC</referencedby>
        <referencedby refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" compoundref="opl_8cpp" startline="196" endline="210">setValues_Out_CN</referencedby>
      </memberdef>
      <memberdef kind="variable" id="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" prot="public" static="yes" mutable="no">
        <type>bool</type>
        <definition>bool activated_Out_CN_l[SIZE_OUT+2]</definition>
        <argsstring>[SIZE_OUT+2]</argsstring>
        <name>activated_Out_CN_l</name>
        <briefdescription>
<para>array of value activation coming out of the CN true if activated, false otherwise </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="84" column="32" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="84" bodyend="-1"/>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
        <referencedby refid="opl_8cpp_1a72f880ddaa32ea28cd0e12658c3e8d67" compoundref="opl_8cpp" startline="229" endline="235">setActivated_Out_CN</referencedby>
        <referencedby refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" compoundref="opl_8cpp" startline="196" endline="210">setValues_Out_CN</referencedby>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="opl_8cpp_1a0e626359c6d8f3e0bc7e7c19c01fa820" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void affValeursIn</definition>
        <argsstring>()</argsstring>
        <name>affValeursIn</name>
        <briefdescription>
<para>function to display in the console the values coming from the MN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="139" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="139" bodyend="147"/>
        <references refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" compoundref="sensor_8cpp" startline="17">i</references>
        <references refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" compoundref="config_define_8h" startline="46">SIZE_IN</references>
        <references refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" compoundref="opl_8cpp" startline="75">values_In_CN_l</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="216">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a7a60aa76d8b9af7a1930275e02aa2ab5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void affValeursProcessIn</definition>
        <argsstring>()</argsstring>
        <name>affValeursProcessIn</name>
        <briefdescription>
<para>function to display in the console the values coming from the MN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="154" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="154" bodyend="162"/>
        <references refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" compoundref="sensor_8cpp" startline="17">i</references>
        <references refid="struct_p_i___i_n_1a5a0fedeabec540480a57f2700abf8565" compoundref="xap_opl_8h" startline="45">PI_IN::in_CN_array</references>
        <references refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" compoundref="opl_8cpp" startline="65">pProcessImageIn_l</references>
        <references refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" compoundref="config_define_8h" startline="46">SIZE_IN</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="216">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void affValeursOut</definition>
        <argsstring>()</argsstring>
        <name>affValeursOut</name>
        <briefdescription>
<para>function to display in the console the values coming out of the CN </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="169" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="169" bodyend="177"/>
        <references refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" compoundref="sensor_8cpp" startline="17">i</references>
        <references refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" compoundref="opl_8cpp" startline="34">nbValuesCN_Out</references>
        <references refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" compoundref="opl_8cpp" startline="42">nbValuesCN_Out_ByCN</references>
        <references refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" compoundref="opl_8cpp" startline="79">values_Out_CN_l</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="216">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1ad0b902027740ec16636d93ee162aeb5d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int16_t</type>
        <definition>int16_t getValues_In_CN</definition>
        <argsstring>(int ligne)</argsstring>
        <name>getValues_In_CN</name>
        <param>
          <type>int</type>
          <declname>ligne</declname>
        </param>
        <briefdescription>
<para>function getter of the value coming from the MN from line according to the structure <ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref> </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ligne</parametername>
</parameternamelist>
<parameterdescription>
<para>the line according to the structure <ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref> </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int16_t the value coming from the MN </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="186" column="9" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="186" bodyend="189"/>
        <references refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" compoundref="opl_8cpp" startline="75">values_In_CN_l</references>
        <referencedby refid="classvalve_1aac2cd5441d1c1a1180e18af2468a4547" compoundref="valve_8cpp" startline="179" endline="212">valve::actionnementValve</referencedby>
        <referencedby refid="classvalve_1a1364f1770f8218d7a0077ca2a953371b" compoundref="valve_8cpp" startline="226" endline="298">valve::verifDependanceValves</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setValues_Out_CN</definition>
        <argsstring>()</argsstring>
        <name>setValues_Out_CN</name>
        <briefdescription>
<para>function setter of the values coming out of the CN namely, the valves and sensors values. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="196" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="196" bodyend="210"/>
        <references refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" compoundref="opl_8cpp" startline="84">activated_Out_CN_l</references>
        <references refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" compoundref="opl_8cpp" startline="24">EC</references>
        <references refid="sensor_8cpp_1a95ae932c940a8d52f42f256155300708" compoundref="sensor_8cpp" startline="157" endline="159">getAdc_value</references>
        <references refid="valve_8cpp_1a659d21ba354b3f756293314bf2c8dfc4" compoundref="valve_8cpp" startline="509" endline="516">getValveValue</references>
        <references refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" compoundref="sensor_8cpp" startline="17">i</references>
        <references refid="config_define_8h_1aa3d1fc2927eec213e6b5f9e854c392d2" compoundref="config_define_8h" startline="72">MAX_SENSORS</references>
        <references refid="config_define_8h_1abcc3ea803cac2ea690fac3f5ceb23211" compoundref="config_define_8h" startline="90">MAX_VALVES</references>
        <references refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" compoundref="opl_8cpp" startline="46">nbValuesCN_In_ByCN</references>
        <references refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" compoundref="opl_8cpp" startline="34">nbValuesCN_Out</references>
        <references refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" compoundref="opl_8cpp" startline="42">nbValuesCN_Out_ByCN</references>
        <references refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" compoundref="opl_8cpp" startline="79">values_Out_CN_l</references>
        <referencedby refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a77c6ae0352e357ac9d8bdb83fe406e64" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int16_t</type>
        <definition>int16_t getValues_Out_CN</definition>
        <argsstring>(int ligne)</argsstring>
        <name>getValues_Out_CN</name>
        <param>
          <type>int</type>
          <declname>ligne</declname>
        </param>
        <briefdescription>
<para>function getter of the value coming out of the CN from line according to the structure <ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref> </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ligne</parametername>
</parameternamelist>
<parameterdescription>
<para>the line according to the structure <ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref> </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int16_t the value coming out of the CN </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="219" column="9" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="219" bodyend="222"/>
        <references refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" compoundref="opl_8cpp" startline="79">values_Out_CN_l</references>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a72f880ddaa32ea28cd0e12658c3e8d67" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setActivated_Out_CN</definition>
        <argsstring>()</argsstring>
        <name>setActivated_Out_CN</name>
        <briefdescription>
<para>function setter to fill the activation array from the CSV activation file &quot;activation.csv&quot; </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="229" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="229" bodyend="235"/>
        <references refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" compoundref="opl_8cpp" startline="84">activated_Out_CN_l</references>
        <references refid="csv_8cpp_1a59b3cd375160ea778a774e62c7c64f7d" compoundref="csv_8cpp" startline="692" endline="695">getActivation</references>
        <references refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" compoundref="sensor_8cpp" startline="17">i</references>
        <references refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" compoundref="config_define_8h" startline="42">SIZE_OUT</references>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="321" endline="384">initOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1aa1f5fd46ab8ace6894efe23293d8a9b8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int16_t</type>
        <definition>int16_t getEG</definition>
        <argsstring>()</argsstring>
        <name>getEG</name>
        <briefdescription>
<para>function getter of the current general state (EG) </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>int16_t the current general state (EG) </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="242" column="9" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="242" bodyend="246"/>
        <references refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" compoundref="opl_8cpp" startline="46">nbValuesCN_In_ByCN</references>
        <references refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" compoundref="opl_8cpp" startline="75">values_In_CN_l</references>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1af37cdd5c32789328a95994329b009c24" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef isEGchanged</definition>
        <argsstring>()</argsstring>
        <name>isEGchanged</name>
        <briefdescription>
<para>function to check if the general state (EG) has been changed </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>statusErrDef infoModeSetToManual if the mode to manual order has been received from the MN or infoEGNotChanged if the EG is still the same. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="256" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="256" bodyend="280"/>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" compoundref="status_error_define_8h" startline="120">automatic</references>
        <references refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" compoundref="opl_8cpp" startline="24">EC</references>
        <references refid="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" compoundref="opl_8cpp" startline="19">EG</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a999c5392645c39b07e6b15445143cb58" compoundref="status_error_define_8h" startline="32">infoEGNotChanged</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a2c3908b363a14d9a6d75acef16c66a44" compoundref="status_error_define_8h" startline="35">infoModeSetToManual</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a07e3be144c2a7d4c69691470f0bcd261" compoundref="status_error_define_8h" startline="55">infoStateToManualMode</references>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" compoundref="status_error_define_8h" startline="121">manual</references>
        <references refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" compoundref="opl_8cpp" startline="30">mode</references>
        <references refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" compoundref="opl_8cpp" startline="46">nbValuesCN_In_ByCN</references>
        <references refid="valve_8cpp_1ad6ff3dc82333091b53b2fbdc3ef5842e" compoundref="valve_8cpp" startline="525" endline="536">resetTimers</references>
        <references refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" compoundref="opl_8cpp" startline="75">values_In_CN_l</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="216">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1acf0a7eab36c0d4e61e865dbfca0fc575" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setEC</definition>
        <argsstring>(int16_t EC)</argsstring>
        <name>setEC</name>
        <param>
          <type>int16_t</type>
          <declname>EC</declname>
        </param>
        <briefdescription>
<para>function setter of the board state (EC) </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>EC</parametername>
</parameternamelist>
<parameterdescription>
<para>the board state (EC) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="287" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="287" bodyend="290"/>
        <references refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" compoundref="opl_8cpp" startline="24">EC</references>
        <references refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" compoundref="opl_8cpp" startline="42">nbValuesCN_Out_ByCN</references>
        <references refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" compoundref="opl_8cpp" startline="79">values_Out_CN_l</references>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initOPL</definition>
        <argsstring>()</argsstring>
        <name>initOPL</name>
        <briefdescription>
<para>function to initialize the CN OpenPOWERLINK module </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>statusErrDef that values errOPLSystemInit when OpenPOWERLINK fails to set the correct configuration for the current operating system. or errSelNetInterface when the selection of the network interface fails when in a Windows machine. Can be caused by the absence of WinPcap. or errInitObjDictionary when the object dictionary header file (objdict.h) has incorrect values or syntax. or errOplkInit when The OpenPOWERLINK stack fails to initialize, main cause: the stack is not found by the application, check the CN .lib files or errOplkCreate when the OpenPOWERLINK stack fails to create a new instance or errOplkAllocProcessImage when the allocation of the input and/or output structure fails because parts of the structure doesn&apos;t exist in the objdict.h file or errLinkPDOout when an output object (TPDO) doesn&apos;t exist for the same reasons above or errLinkPDOin when an input object (RPDO) doesn&apos;t exist for the same reasons above or errSendNMTResetCommand when the OpenPOWERLINK reset command fails or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="321" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="321" bodyend="384"/>
        <references refid="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" compoundref="opl_8cpp" startline="54" endline="54">aMacAddr_l</references>
        <references refid="config_define_8h_1ac9ac8ba41c4385306791b6640b1d51dc" compoundref="config_define_8h" startline="20">CYCLE_LEN</references>
        <references refid="config_define_8h_1a563cad7e347a704508920c0c59f74808" compoundref="config_define_8h" startline="36">DEVNAME</references>
        <references refid="structt_options_1a675c269016681a9bf07a16d975c20963" compoundref="opl_8h" startline="69">tOptions::devName</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ae1a5bbac3235cbdf4dfdaf395813d328" compoundref="status_error_define_8h" startline="77">errOPLSystemInit</references>
        <references refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" compoundref="opl_8cpp" startline="59">fGsOff_l</references>
        <references refid="event_opl_8c_1aa6211577a11055a43fb577b465ade606" compoundref="event_opl_8c" startline="110" endline="113">initEvents</references>
        <references refid="opl_8cpp_1ac31969ba716dc382cc1e4c9fcf8f06cc" compoundref="opl_8cpp" startline="539" endline="556">initOplThread</references>
        <references refid="opl_8cpp_1a730d6cf41b1191a63dae8e8f789e47f0" compoundref="opl_8cpp" startline="407" endline="527">initPowerlink</references>
        <references refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</references>
        <references refid="structt_options_1ac2d0a48a3d2ed344da01233e48372775" compoundref="opl_8h" startline="68">tOptions::logCategory</references>
        <references refid="structt_options_1ad4dfda079fb51a7c23ff0321a2fc920e" compoundref="opl_8h" startline="66">tOptions::logFormat</references>
        <references refid="structt_options_1ac41ac397dd5398c735a7845a023e7877" compoundref="opl_8h" startline="67">tOptions::logLevel</references>
        <references refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" compoundref="node_id_8h" startline="1">NODEID</references>
        <references refid="structt_options_1a1ddf0a10016825f0e7bae38a02387126" compoundref="opl_8h" startline="65">tOptions::nodeId</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="opl_8cpp_1a72f880ddaa32ea28cd0e12658c3e8d67" compoundref="opl_8cpp" startline="229" endline="235">setActivated_Out_CN</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="216">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a730d6cf41b1191a63dae8e8f789e47f0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initPowerlink</definition>
        <argsstring>(UINT32 cycleLen_p, const char *devName_p, const UINT8 *macAddr_p, UINT32 nodeId_p)</argsstring>
        <name>initPowerlink</name>
        <param>
          <type>UINT32</type>
          <declname>cycleLen_p</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>devName_p</declname>
        </param>
        <param>
          <type>const UINT8 *</type>
          <declname>macAddr_p</declname>
        </param>
        <param>
          <type>UINT32</type>
          <declname>nodeId_p</declname>
        </param>
        <briefdescription>
<para>Initialize the openPOWERLINK stack. </para>
        </briefdescription>
        <detaileddescription>
<para>The function initializes the openPOWERLINK stack.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">cycleLen_p</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of POWERLINK cycle. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">devName_p</parametername>
</parameternamelist>
<parameterdescription>
<para>Device name string. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">macAddr_p</parametername>
</parameternamelist>
<parameterdescription>
<para>MAC address to use for POWERLINK interface. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">nodeId_p</parametername>
</parameternamelist>
<parameterdescription>
<para>POWERLINK node ID.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>statusErrDef that values errSelNetInterface when the selection of the network interface fails when in a Windows machine can be caused by the absence of WinPcap. or errInitObjDictionary when the object dictionary header file (objdict.h) has incorrect values or syntax. or errOplkInit when the OpenPOWERLINK stack fails maybe because the stack is not found by the application, check the CN .lib files. or errOplkCreate when the OpenPOWERLINK stack fails to create a new instance or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="407" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="407" bodyend="527"/>
        <references refid="config_define_8h_1ab0092e2619bef8d5375800f507d3080c" compoundref="config_define_8h" startline="28">DEFAULT_GATEWAY</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a3ebf20f82ef4ab6c130e48091c95cba7" compoundref="status_error_define_8h" startline="79">errInitObjDictionary</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ae58a341d48e59f97d21886e8e27b0db8" compoundref="status_error_define_8h" startline="81">errOplkCreate</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a93dde49c48ef9bb619348e72d664c43d" compoundref="status_error_define_8h" startline="80">errOplkInit</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a3ccc2755005e3b8f7aedd3787bef4869" compoundref="status_error_define_8h" startline="78">errSelNetInterface</references>
        <references refid="config_define_8h_1a14b0a7da8cf3edbfec9630c2ec290148" compoundref="config_define_8h" startline="24">IP_ADDR</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="event_opl_8c_1ad6f574bee28d3a8f66b5885f365a8df2" compoundref="event_opl_8c" startline="129" endline="155">processEvents</references>
        <references refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" compoundref="opl_8cpp" startline="600" endline="680">processSync</references>
        <references refid="config_define_8h_1a2277cfa773d618a987524fc0590fe253" compoundref="config_define_8h" startline="32">SUBNET_MASK</references>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="321" endline="384">initOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1ac31969ba716dc382cc1e4c9fcf8f06cc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initOplThread</definition>
        <argsstring>(void)</argsstring>
        <name>initOplThread</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><itemizedlist>
<listitem><para>It creates the sync thread which is responsible for the synchronous data application.</para>
</listitem></itemizedlist>
</para>
<para><simplesect kind="return"><para>statusErrDef that values errSendNMTResetCommand when the OpenPOWERLINK reset command fails or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="539" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="539" bodyend="556"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94adc47549c3ae339d7b2b8d77ac0ad63bf" compoundref="status_error_define_8h" startline="86">errSendNMTResetCommand</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="opl_8cpp_1ae81275d52dd3a37962b186af93bfad39" compoundref="opl_8cpp" startline="687" endline="690">setupInputs</references>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="321" endline="384">initOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a6113e17ab32811ea2704cbfbb967c64f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef checkStateOpl</definition>
        <argsstring>()</argsstring>
        <name>checkStateOpl</name>
        <briefdescription>
<para>function to check if the OpenPOWERLINK stack crashed or a termination signal has been received from the OS app manager. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>statusErrDef that values errSystemSendTerminate if a termination signal has been received or errOplKernelStackDown if the OpenPOWERLINK stack crashed or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="568" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="568" bodyend="589"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a34e5cf990e434aa370892b7d204206c8" compoundref="status_error_define_8h" startline="89">errOplKernelStackDown</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a577af9c3c84d95925e05d66000b3d411" compoundref="status_error_define_8h" startline="88">errSystemSendTerminate</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="216">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>tOplkError</type>
        <definition>tOplkError processSync</definition>
        <argsstring>()</argsstring>
        <name>processSync</name>
        <briefdescription>
<para>Synchronous data handler. </para>
        </briefdescription>
        <detaileddescription>
<para>The function implements the synchronous data handler. the valve dependance verification and the sensor reading is called here to trigger valves for every CAC boards (every CNs) at the same time.</para>
<para><simplesect kind="return"><para>The function returns a tOplkError error code. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="600" column="12" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="600" bodyend="680"/>
        <references refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" compoundref="opl_8cpp" startline="84">activated_Out_CN_l</references>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" compoundref="status_error_define_8h" startline="120">automatic</references>
        <references refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" compoundref="sensor_8cpp" startline="17">i</references>
        <references refid="struct_p_i___i_n_1a5a0fedeabec540480a57f2700abf8565" compoundref="xap_opl_8h" startline="45">PI_IN::in_CN_array</references>
        <references refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" compoundref="status_error_define_8h" startline="121">manual</references>
        <references refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" compoundref="opl_8cpp" startline="30">mode</references>
        <references refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" compoundref="opl_8cpp" startline="38">nbValuesCN_In</references>
        <references refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" compoundref="opl_8cpp" startline="46">nbValuesCN_In_ByCN</references>
        <references refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" compoundref="opl_8cpp" startline="34">nbValuesCN_Out</references>
        <references refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" compoundref="opl_8cpp" startline="42">nbValuesCN_Out_ByCN</references>
        <references refid="struct_p_i___o_u_t_1a6acd9eeaf14a6221c85373ee72ca3b1a" compoundref="xap_opl_8h" startline="36">PI_OUT::out_CN_array</references>
        <references refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" compoundref="opl_8cpp" startline="65">pProcessImageIn_l</references>
        <references refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" compoundref="opl_8cpp" startline="69">pProcessImageOut_l</references>
        <references refid="sensor_8cpp_1a084710571b3a23b14fe1bc00ef626f52" compoundref="sensor_8cpp" startline="170" endline="229">readChannels</references>
        <references refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" compoundref="opl_8cpp" startline="196" endline="210">setValues_Out_CN</references>
        <references refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" compoundref="config_define_8h" startline="46">SIZE_IN</references>
        <references refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" compoundref="opl_8cpp" startline="75">values_In_CN_l</references>
        <references refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" compoundref="opl_8cpp" startline="79">values_Out_CN_l</references>
        <references refid="classvalve_1a1364f1770f8218d7a0077ca2a953371b" compoundref="valve_8cpp" startline="226" endline="298">valve::verifDependanceValves</references>
        <referencedby refid="opl_8cpp_1a730d6cf41b1191a63dae8e8f789e47f0" compoundref="opl_8cpp" startline="407" endline="527">initPowerlink</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1ae81275d52dd3a37962b186af93bfad39" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setupInputs</definition>
        <argsstring>(void)</argsstring>
        <name>setupInputs</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Setup inputs. </para>
        </briefdescription>
        <detaileddescription>
<para>The function initializes the digital input port. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="687" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="687" bodyend="690"/>
        <references refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" compoundref="opl_8cpp" startline="75">values_In_CN_l</references>
        <referencedby refid="opl_8cpp_1ac31969ba716dc382cc1e4c9fcf8f06cc" compoundref="opl_8cpp" startline="539" endline="556">initOplThread</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a6928095e76089df62d549c72bf870b44" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef initProcessImage</definition>
        <argsstring>(void)</argsstring>
        <name>initProcessImage</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Initialize process image. </para>
        </briefdescription>
        <detaileddescription>
<para>The function initializes the process image of the application.</para>
<para><simplesect kind="return"><para>statusErrDef that values errOplkAllocProcessImage when the allocation of the input and/or output structure doesn&apos;t exist in the objdict.h file or errLinkPDOout when an output object (TPDO) doesn&apos;t exist for the same reasons above. or errLinkPDOin when an input object (RPDO) doesn&apos;t exist for the same reasons above. or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="706" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="706" bodyend="777"/>
        <references refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" compoundref="opl_8cpp" startline="84">activated_Out_CN_l</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a2d71b8bf78bab50fc7914c15391b7e4c" compoundref="status_error_define_8h" startline="85">errLinkPDOin</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a6f6e0379e57e89a0eb4d33299a5716d3" compoundref="status_error_define_8h" startline="83">errLinkPDOout</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94aeea752eff283031109152c89cad12c40" compoundref="status_error_define_8h" startline="82">errOplkAllocProcessImage</references>
        <references refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" compoundref="sensor_8cpp" startline="17">i</references>
        <references refid="opl_8cpp_1abf4b25efd59a9185bbca55f9c969a8b9" compoundref="opl_8cpp" startline="795" endline="817">linkPDO_in</references>
        <references refid="opl_8cpp_1a224b601cc1822441cbed3a23b22b34ac" compoundref="opl_8cpp" startline="835" endline="857">linkPDO_out</references>
        <references refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" compoundref="opl_8cpp" startline="38">nbValuesCN_In</references>
        <references refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" compoundref="opl_8cpp" startline="46">nbValuesCN_In_ByCN</references>
        <references refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" compoundref="opl_8cpp" startline="34">nbValuesCN_Out</references>
        <references refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" compoundref="opl_8cpp" startline="42">nbValuesCN_Out_ByCN</references>
        <references refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" compoundref="node_id_8h" startline="1">NODEID</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" compoundref="opl_8cpp" startline="65">pProcessImageIn_l</references>
        <references refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" compoundref="opl_8cpp" startline="69">pProcessImageOut_l</references>
        <referencedby refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" compoundref="opl_8cpp" startline="321" endline="384">initOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1abf4b25efd59a9185bbca55f9c969a8b9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>tOplkError</type>
        <definition>tOplkError linkPDO_in</definition>
        <argsstring>(tObdSize obdSize, UINT16 arrayIndex, UINT16 index, UINT8 subIndex)</argsstring>
        <name>linkPDO_in</name>
        <param>
          <type>tObdSize</type>
          <declname>obdSize</declname>
        </param>
        <param>
          <type>UINT16</type>
          <declname>arrayIndex</declname>
        </param>
        <param>
          <type>UINT16</type>
          <declname>index</declname>
        </param>
        <param>
          <type>UINT8</type>
          <declname>subIndex</declname>
        </param>
        <briefdescription>
<para>function to link a CN RPDO (recieved process data object) gotten from the mnobd.cdc binary file generated by OpenCONFIGURATOR to the OpenPOWERLINK application. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>obdSize</parametername>
</parameternamelist>
<parameterdescription>
<para>the size of the PDO in bytes </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>arrayIndex</parametername>
</parameternamelist>
<parameterdescription>
<para>the index of the CN RPDO array </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>index</parametername>
</parameternamelist>
<parameterdescription>
<para>the index of the CN RPDO in the OpenPOWERLINK object library gotten from this file: 00000000_POWERLINK_CiA401_CN.xdd </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>subIndex</parametername>
</parameternamelist>
<parameterdescription>
<para>the sub index of the specific object to be linked gotten from this file: 00000000_POWERLINK_CiA401_CN.xdd</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The function returns a tOplkError error code. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="795" column="12" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="795" bodyend="817"/>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a224b601cc1822441cbed3a23b22b34ac" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>tOplkError</type>
        <definition>tOplkError linkPDO_out</definition>
        <argsstring>(tObdSize obdSize, UINT16 arrayIndex, UINT16 index, UINT8 subIndex)</argsstring>
        <name>linkPDO_out</name>
        <param>
          <type>tObdSize</type>
          <declname>obdSize</declname>
        </param>
        <param>
          <type>UINT16</type>
          <declname>arrayIndex</declname>
        </param>
        <param>
          <type>UINT16</type>
          <declname>index</declname>
        </param>
        <param>
          <type>UINT8</type>
          <declname>subIndex</declname>
        </param>
        <briefdescription>
<para>function to link a CN TPDO (transmitted process data object) gotten from the mnobd.cdc binary file generated by OpenCONFIGURATOR to the OpenPOWERLINK application. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>obdSize</parametername>
</parameternamelist>
<parameterdescription>
<para>the size of the PDO in bytes </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>arrayIndex</parametername>
</parameternamelist>
<parameterdescription>
<para>the index of the CN TPDO array </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>index</parametername>
</parameternamelist>
<parameterdescription>
<para>the index of the CN RPDO in the OpenPOWERLINK object library gotten from this file: 00000000_POWERLINK_CiA401_CN.xdd </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>subIndex</parametername>
</parameternamelist>
<parameterdescription>
<para>the sub index of the specific object to be linked gotten from this file: 00000000_POWERLINK_CiA401_CN.xdd</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The function returns a tOplkError error code. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="835" column="12" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="835" bodyend="857"/>
        <referencedby refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" compoundref="opl_8cpp" startline="706" endline="777">initProcessImage</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef extinctOPL</definition>
        <argsstring>()</argsstring>
        <name>extinctOPL</name>
        <briefdescription>
<para>function to shutdown the OpenPOWERLINK module. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>statusErrDef that values errOplkFreeProcessImage when the freeing of memory of the OpenPOWERLINK stack fails. or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="866" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="866" bodyend="875"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <references refid="opl_8cpp_1aaf99cd726620ac95ff0d54f65485fb2a" compoundref="opl_8cpp" startline="886" endline="900">shutdownOplImage</references>
        <references refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" compoundref="opl_8cpp" startline="907" endline="938">shutdownPowerlink</references>
        <referencedby refid="main_8cpp_1ae66f6b31b5ad750f1fe042a706a4e3d4" compoundref="main_8cpp" startline="25" endline="216">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1aaf99cd726620ac95ff0d54f65485fb2a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref></type>
        <definition>statusErrDef shutdownOplImage</definition>
        <argsstring>(void)</argsstring>
        <name>shutdownOplImage</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Shutdown the synchronous data application. </para>
        </briefdescription>
        <detaileddescription>
<para>The function shuts down the synchronous data application</para>
<para><simplesect kind="return"><para>statusErrDef that values errOplkFreeProcessImage when the freeing of memory of the OpenPOWERLINK fails. or noError when the function exits successfully. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="886" column="14" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="886" bodyend="900"/>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94acb7ab15cc47c08906b755f31f53b39b3" compoundref="status_error_define_8h" startline="87">errOplkFreeProcessImage</references>
        <references refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" compoundref="status_error_define_8h" startline="22">noError</references>
        <referencedby refid="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" compoundref="opl_8cpp" startline="866" endline="875">extinctOPL</referencedby>
      </memberdef>
      <memberdef kind="function" id="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void shutdownPowerlink</definition>
        <argsstring>(void)</argsstring>
        <name>shutdownPowerlink</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Shutdown the demo application. </para>
        </briefdescription>
        <detaileddescription>
<para>The function shuts down the demo application. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" line="907" column="6" bodyfile="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp" bodystart="907" bodyend="938"/>
        <references refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" compoundref="opl_8cpp" startline="59">fGsOff_l</references>
        <references refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" compoundref="sensor_8cpp" startline="17">i</references>
        <referencedby refid="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" compoundref="opl_8cpp" startline="866" endline="875">extinctOPL</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>Module to communicate with the master board using OpenPOWERLINK. </para>
    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para>Mael Parot </para>
</simplesect>
<simplesect kind="version"><para>1.2 </para>
</simplesect>
<simplesect kind="date"><para>11/04/2024</para>
</simplesect>
Contains all functions related to communicating with the master board using OpenPOWERLINK, transfer sensors, valves values and recieve orders from the master. </para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="opl_8h" kindref="compound">opl.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" refkind="member"><highlight class="normal">int16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" kindref="member">EG</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="24" refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" refkind="member"><highlight class="normal">int16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" kindref="member">EC</ref><sp/>=<sp/><ref refid="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" kindref="member">EG</ref>;</highlight></codeline>
<codeline lineno="30" refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911" kindref="member">Mode</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>=<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref>;</highlight></codeline>
<codeline lineno="34" refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>=<sp/><ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref><sp/>/<sp/><ref refid="node_id_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="38" refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>=<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref><sp/>/<sp/><ref refid="node_id_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="42" refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>=<sp/>(<ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref><sp/>/<sp/><ref refid="node_id_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref>)<sp/>*<sp/>(<ref refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" kindref="member">NODEID</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="46" refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref><sp/>=<sp/>(<ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref><sp/>/<sp/><ref refid="node_id_8h_1a6206026f72c671f64485c7be7f4288d2" kindref="member">NB_NODES</ref>)<sp/>*<sp/>(<ref refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" kindref="member">NODEID</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="comment">//------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">//<sp/>local<sp/>vars</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="comment">//------------------------------------------------------------------------------</highlight></codeline>
<codeline lineno="54" refid="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" refkind="member"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>UINT8<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" kindref="member">aMacAddr_l</ref>[]<sp/>=<sp/>{<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00,<sp/>0x00<sp/>};</highlight></codeline>
<codeline lineno="59" refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>BOOL<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" kindref="member">fGsOff_l</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>process<sp/>image<sp/>*/</highlight></codeline>
<codeline lineno="65" refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>*<sp/><ref refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" kindref="member">pProcessImageIn_l</ref>;</highlight></codeline>
<codeline lineno="69" refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>*<sp/><ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref>;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>application<sp/>variables<sp/>*/</highlight></codeline>
<codeline lineno="75" refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>int16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>];</highlight></codeline>
<codeline lineno="79" refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>int16_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref>];</highlight></codeline>
<codeline lineno="84" refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" kindref="member">activated_Out_CN_l</ref>[<ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref><sp/>+<sp/>2];</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86" refid="classopl_1a43a83ace00cba207a89cf65e3b995d7e" refkind="member"><highlight class="normal"><ref refid="classopl_1a43a83ace00cba207a89cf65e3b995d7e" kindref="member">opl::opl</ref>()</highlight></codeline>
<codeline lineno="87"><highlight class="normal">{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal">}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91" refid="classopl_1a8d5d5db31b3d8150af42d2bb000d94fa" refkind="member"><highlight class="normal"><ref refid="classopl_1a8d5d5db31b3d8150af42d2bb000d94fa" kindref="member">opl::~opl</ref>()</highlight></codeline>
<codeline lineno="92"><highlight class="normal">{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//destructor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal">}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="classopl_1ac3e6c6fb9c8d2a10d4437877651167bb" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="classopl_1ac3e6c6fb9c8d2a10d4437877651167bb" kindref="member">opl::demandeExtinctOPL</ref>()</highlight></codeline>
<codeline lineno="104"><highlight class="normal">{</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="opl_8h_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>]<sp/>==<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94acd2d81872afb7b452fdc7e9a11d13d79" kindref="member">infoStopOrderReceived</ref>)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94acd2d81872afb7b452fdc7e9a11d13d79" kindref="member">infoStopOrderReceived</ref>;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a7aa913f5c87b2f9c4bec8e180721e199" kindref="member">infoNoStopOrder</ref>;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal">}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="118" refid="classopl_1afcb3f7b05602f12b72bc97404795ef42" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classopl_1afcb3f7b05602f12b72bc97404795ef42" kindref="member">opl::sendTelem</ref>(int16_t<sp/>statusCode)</highlight></codeline>
<codeline lineno="119"><highlight class="normal">{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="opl_8h_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref>]<sp/>=<sp/>statusCode;</highlight></codeline>
<codeline lineno="121"><highlight class="normal">}</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="classopl_1ad188b100fd92fcc210bd48ea4e08a36f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classopl_1ad188b100fd92fcc210bd48ea4e08a36f" kindref="member">opl::sendError</ref>(int16_t<sp/>errorCode)</highlight></codeline>
<codeline lineno="130"><highlight class="normal">{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="opl_8h_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref>]<sp/>=<sp/>errorCode;</highlight></codeline>
<codeline lineno="132"><highlight class="normal">}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="139" refid="opl_8cpp_1a0e626359c6d8f3e0bc7e7c19c01fa820" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a0e626359c6d8f3e0bc7e7c19c01fa820" kindref="member">affValeursIn</ref>()</highlight></codeline>
<codeline lineno="140"><highlight class="normal">{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n-------------IN<sp/>CN--------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/>0;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;values_In_CN_l[%d]=%d\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>,<sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>]);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n--------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="147"><highlight class="normal">}</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="154" refid="opl_8cpp_1a7a60aa76d8b9af7a1930275e02aa2ab5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a7a60aa76d8b9af7a1930275e02aa2ab5" kindref="member">affValeursProcessIn</ref>()</highlight></codeline>
<codeline lineno="155"><highlight class="normal">{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n-------------PROCESS<sp/>IN<sp/>CN--------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/>0;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;pProcessImageIn_l-&gt;in_CN_array[%d]=%d\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>,<sp/><ref refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" kindref="member">pProcessImageIn_l</ref>-&gt;<ref refid="struct_p_i___i_n_1a5a0fedeabec540480a57f2700abf8565" kindref="member">in_CN_array</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>]);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n----------------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="162"><highlight class="normal">}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="169" refid="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a7f68cfdc214d014a4d8676853a577e31" kindref="member">affValeursOut</ref>()</highlight></codeline>
<codeline lineno="170"><highlight class="normal">{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n------------OUT<sp/>CN--------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>+<sp/>1;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;values_Out_CN_l[%d]=%d\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>,<sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>]);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n--------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="177"><highlight class="normal">}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="186" refid="opl_8cpp_1ad0b902027740ec16636d93ee162aeb5d" refkind="member"><highlight class="normal">int16_t<sp/><ref refid="opl_8cpp_1ad0b902027740ec16636d93ee162aeb5d" kindref="member">getValues_In_CN</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ligne)</highlight></codeline>
<codeline lineno="187"><highlight class="normal">{</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[ligne];</highlight></codeline>
<codeline lineno="189"><highlight class="normal">}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="196" refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" kindref="member">setValues_Out_CN</ref>()</highlight></codeline>
<codeline lineno="197"><highlight class="normal">{</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref>]<sp/>=<sp/><ref refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" kindref="member">EC</ref>;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//copy<sp/>the<sp/>valve<sp/>values<sp/>into<sp/>the<sp/>values<sp/>coming<sp/>out<sp/>of<sp/>the<sp/>CN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/>0;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="config_define_8h_1abcc3ea803cac2ea690fac3f5ceb23211" kindref="member">MAX_VALVES</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)<sp/>{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" kindref="member">activated_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>+<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/>2])</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>+<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/>1]<sp/>=<sp/><ref refid="valve_8cpp_1a659d21ba354b3f756293314bf2c8dfc4" kindref="member">getValveValue</ref>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>+<sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref><sp/>+<sp/>2);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//copy<sp/>the<sp/>sensor<sp/>values<sp/>into<sp/>the<sp/>values<sp/>coming<sp/>out<sp/>of<sp/>the<sp/>CN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/>0;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="config_define_8h_1aa3d1fc2927eec213e6b5f9e854c392d2" kindref="member">MAX_SENSORS</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)<sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" kindref="member">activated_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>+<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>/<sp/>2<sp/>+<sp/>2])</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>+<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>/<sp/>2<sp/>+<sp/>1]<sp/>=<sp/><ref refid="sensor_8cpp_1a95ae932c940a8d52f42f256155300708" kindref="member">getAdc_value</ref>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>);</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="210"><highlight class="normal">}</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="219" refid="opl_8cpp_1a77c6ae0352e357ac9d8bdb83fe406e64" refkind="member"><highlight class="normal">int16_t<sp/><ref refid="opl_8cpp_1a77c6ae0352e357ac9d8bdb83fe406e64" kindref="member">getValues_Out_CN</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ligne)</highlight></codeline>
<codeline lineno="220"><highlight class="normal">{</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[ligne];</highlight></codeline>
<codeline lineno="222"><highlight class="normal">}</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="229" refid="opl_8cpp_1a72f880ddaa32ea28cd0e12658c3e8d67" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1a72f880ddaa32ea28cd0e12658c3e8d67" kindref="member">setActivated_Out_CN</ref>()</highlight></codeline>
<codeline lineno="230"><highlight class="normal">{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/>0;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="config_define_8h_1ab5cbebecab98e4234ae1b2e5ff94ccbc" kindref="member">SIZE_OUT</ref><sp/>+<sp/>1;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" kindref="member">activated_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>]<sp/>=<sp/><ref refid="csv_8cpp_1a59b3cd375160ea778a774e62c7c64f7d" kindref="member">getActivation</ref>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="235"><highlight class="normal">}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="242" refid="opl_8cpp_1aa1f5fd46ab8ace6894efe23293d8a9b8" refkind="member"><highlight class="normal">int16_t<sp/><ref refid="opl_8cpp_1aa1f5fd46ab8ace6894efe23293d8a9b8" kindref="member">getEG</ref>()</highlight></codeline>
<codeline lineno="243"><highlight class="normal">{</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n\n<sp/>EG<sp/>CN<sp/>truc<sp/>:<sp/>%d<sp/>\n\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>]);</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>];</highlight></codeline>
<codeline lineno="246"><highlight class="normal">}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="256" refid="opl_8cpp_1af37cdd5c32789328a95994329b009c24" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1af37cdd5c32789328a95994329b009c24" kindref="member">isEGchanged</ref>()</highlight></codeline>
<codeline lineno="257"><highlight class="normal">{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//check<sp/>if<sp/>the<sp/>current<sp/>EG<sp/>is<sp/>the<sp/>same<sp/>as<sp/>the<sp/>one<sp/>from<sp/>the<sp/>incoming<sp/>OpenPOWERLINK<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>]<sp/>!=<sp/><ref refid="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" kindref="member">EG</ref><sp/>&amp;&amp;<sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>]<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//copy<sp/>the<sp/>EG<sp/>value<sp/>to<sp/>the<sp/>current<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" kindref="member">EG</ref><sp/>=<sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>];</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//feedback<sp/>to<sp/>the<sp/>MN<sp/>that<sp/>the<sp/>CN<sp/>has<sp/>received<sp/>the<sp/>EG<sp/>change<sp/>order</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" kindref="member">EC</ref><sp/>=<sp/><ref refid="opl_8cpp_1a063c1e70bcbeb72b1c2483b200839a85" kindref="member">EG</ref>;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//reset<sp/>the<sp/>valve<sp/>timers<sp/>for<sp/>the<sp/>next<sp/>general<sp/>state<sp/>CSV<sp/>file<sp/>read</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/>res<sp/>=<sp/><ref refid="valve_8cpp_1ad6ff3dc82333091b53b2fbdc3ef5842e" kindref="member">resetTimers</ref>();</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//set<sp/>to<sp/>manual<sp/>mode<sp/>if<sp/>the<sp/>order<sp/>has<sp/>been<sp/>received,<sp/>set<sp/>to<sp/>automatic<sp/>otherwise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>]<sp/>==<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a07e3be144c2a7d4c69691470f0bcd261" kindref="member">infoStateToManualMode</ref>)</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a2c3908b363a14d9a6d75acef16c66a44" kindref="member">infoModeSetToManual</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>=<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" kindref="member">manual</ref>;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref><sp/>=<sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref>;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a999c5392645c39b07e6b15445143cb58" kindref="member">infoEGNotChanged</ref>;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal">}</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="287" refid="opl_8cpp_1acf0a7eab36c0d4e61e865dbfca0fc575" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1acf0a7eab36c0d4e61e865dbfca0fc575" kindref="member">setEC</ref>(int16_t<sp/><ref refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" kindref="member">EC</ref>)</highlight></codeline>
<codeline lineno="288"><highlight class="normal">{</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref>]<sp/>=<sp/><ref refid="opl_8cpp_1aba40364eb56f2caf1d7528fd61b2e22e" kindref="member">EC</ref>;</highlight></codeline>
<codeline lineno="290"><highlight class="normal">}</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight><highlight class="comment">//------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight><highlight class="comment">//<sp/>OpenPOWERLINK<sp/>stack<sp/>and<sp/>module<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight><highlight class="comment">//------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="321" refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a670c5cd6fdf306df596560ec23f0cd2f" kindref="member">initOPL</ref>()</highlight></codeline>
<codeline lineno="322"><highlight class="normal">{</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structt_options" kindref="compound">tOptions</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>OpenPOWERLINK<sp/>parameters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>strncpy(opts.<ref refid="structt_options_1a675c269016681a9bf07a16d975c20963" kindref="member">devName</ref>,<sp/><ref refid="config_define_8h_1a563cad7e347a704508920c0c59f74808" kindref="member">DEVNAME</ref>,<sp/>128);<sp/></highlight><highlight class="comment">//the<sp/>network<sp/>device<sp/>or<sp/>interface<sp/>(in<sp/>linux<sp/>it<sp/>is<sp/>eth0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1a1ddf0a10016825f0e7bae38a02387126" kindref="member">nodeId</ref><sp/>=<sp/><ref refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" kindref="member">NODEID</ref>;<sp/></highlight><highlight class="comment">//set<sp/>the<sp/>CN<sp/>number</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//set<sp/>the<sp/>OpenPOWERLINK<sp/>log<sp/>settings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ad4dfda079fb51a7c23ff0321a2fc920e" kindref="member">logFormat</ref><sp/>=<sp/>kEventlogFormatReadable;<sp/></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ac2d0a48a3d2ed344da01233e48372775" kindref="member">logCategory</ref><sp/>=<sp/>0xffffffff;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ac41ac397dd5398c735a7845a023e7877" kindref="member">logLevel</ref><sp/>=<sp/>0xffffffff;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>connexion<sp/>between<sp/>the<sp/>OpenPOWERLINK<sp/>stack<sp/>and<sp/>the<sp/>operating<sp/>system</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(system_init()<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>initializing<sp/>system!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ae1a5bbac3235cbdf4dfdaf395813d328" kindref="member">errOPLSystemInit</ref>;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>logs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_init(opts.<ref refid="structt_options_1ad4dfda079fb51a7c23ff0321a2fc920e" kindref="member">logFormat</ref>,</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ac41ac397dd5398c735a7845a023e7877" kindref="member">logLevel</ref>,</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1ac2d0a48a3d2ed344da01233e48372775" kindref="member">logCategory</ref>,</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(tEventlogOutputCb)console_printlogadd);</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>application<sp/>event<sp/>module</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="event_opl_8c_1aa6211577a11055a43fb577b465ade606" kindref="member">initEvents</ref>(&amp;<ref refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" kindref="member">fGsOff_l</ref>);</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;----------------------------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;openPOWERLINK<sp/>console<sp/>CN<sp/>DEMO<sp/>application\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Using<sp/>openPOWERLINK<sp/>stack:<sp/>%s\n&quot;</highlight><highlight class="normal">,<sp/>oplk_getVersionString());</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;----------------------------------------------------\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//print<sp/>into<sp/>the<sp/>console,<sp/>the<sp/>OPL<sp/>stack<sp/>parameters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryGeneric,</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;demo_cn_console:<sp/>Stack<sp/>version:%s<sp/>Stack<sp/>configuration:0x%08X&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oplk_getVersionString(),</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oplk_getStackConfiguration());</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//activate<sp/>the<sp/>values<sp/>coming<sp/>out<sp/>of<sp/>the<sp/>CN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a72f880ddaa32ea28cd0e12658c3e8d67" kindref="member">setActivated_Out_CN</ref>();</highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//initialize<sp/>the<sp/>POWERLINK<sp/>instance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1a730d6cf41b1191a63dae8e8f789e47f0" kindref="member">initPowerlink</ref>(<ref refid="config_define_8h_1ac9ac8ba41c4385306791b6640b1d51dc" kindref="member">CYCLE_LEN</ref>,</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1a675c269016681a9bf07a16d975c20963" kindref="member">devName</ref>,</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1af33cb4a9ced83e8a564a44f95a7c740c" kindref="member">aMacAddr_l</ref>,</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opts.<ref refid="structt_options_1a1ddf0a10016825f0e7bae38a02387126" kindref="member">nodeId</ref>);</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res<sp/>!=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>)</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Process<sp/>the<sp/>RPDO<sp/>and<sp/>TPDO<sp/>to<sp/>the<sp/>OpenPOWERLINK<sp/>stack</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" kindref="member">initProcessImage</ref>();</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res<sp/>!=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Initialize<sp/>the<sp/>OpenPOWERLINK<sp/>cycle<sp/>thread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1ac31969ba716dc382cc1e4c9fcf8f06cc" kindref="member">initOplThread</ref>();</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res<sp/>!=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>)</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="384"><highlight class="normal">}</highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="407" refid="opl_8cpp_1a730d6cf41b1191a63dae8e8f789e47f0" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a730d6cf41b1191a63dae8e8f789e47f0" kindref="member">initPowerlink</ref>(UINT32<sp/>cycleLen_p,</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>devName_p,</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>UINT8*<sp/>macAddr_p,</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/>UINT32<sp/>nodeId_p)</highlight></codeline>
<codeline lineno="411"><highlight class="normal">{</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkApiInitParam<sp/><sp/><sp/>initParam;</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>devName[128];</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>openPOWERLINK<sp/>stack...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Initializing<sp/>openPOWERLINK<sp/>stack&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryGeneric,</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Select<sp/>the<sp/>network<sp/>interface&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//select<sp/>manually<sp/>the<sp/>network<sp/>interface<sp/>in<sp/>Windows<sp/>otherwise<sp/>it<sp/>is<sp/>eth0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#if<sp/>(TARGET_SYSTEM<sp/>==<sp/>_WIN32_)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(netselect_selectNetworkInterface(devName,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(devName))<sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a3ccc2755005e3b8f7aedd3787bef4869" kindref="member">errSelNetInterface</ref>;</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(devName,<sp/>devName_p,<sp/>128);</highlight></codeline>
<codeline lineno="431"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;initParam,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(initParam));</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.sizeOfInitParam<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(initParam);</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>pass<sp/>selected<sp/>device<sp/>name<sp/>to<sp/>Edrv</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.hwParam.pDevName<sp/>=<sp/>devName;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.nodeId<sp/>=<sp/>nodeId_p;<sp/></highlight><highlight class="comment">//<sp/>the<sp/>CN<sp/>number</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.ipAddress<sp/>=<sp/>(0xFFFFFF00<sp/>&amp;<sp/><ref refid="config_define_8h_1a14b0a7da8cf3edbfec9630c2ec290148" kindref="member">IP_ADDR</ref>)<sp/>|<sp/>initParam.nodeId;<sp/></highlight><highlight class="comment">//<sp/>the<sp/>ip<sp/>address<sp/>with<sp/>a<sp/>/24<sp/>network<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>write<sp/>00:00:00:00:00:00<sp/>to<sp/>MAC<sp/>address,<sp/>so<sp/>that<sp/>the<sp/>driver<sp/>uses<sp/>the<sp/>real<sp/>hardware<sp/>address<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(initParam.aMacAddress,<sp/>macAddr_p,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(initParam.aMacAddress));</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.fAsyncOnly<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.featureFlags<sp/>=<sp/>UINT_MAX;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.cycleLen<sp/>=<sp/>cycleLen_p;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>error<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.isochrTxMaxPayload<sp/>=<sp/>C_DLL_ISOCHR_MAX_PAYL;<sp/><sp/></highlight><highlight class="comment">//<sp/>const</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.isochrRxMaxPayload<sp/>=<sp/>C_DLL_ISOCHR_MAX_PAYL;<sp/><sp/></highlight><highlight class="comment">//<sp/>const</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.presMaxLatency<sp/>=<sp/>50000;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>const;<sp/>only<sp/>required<sp/>for<sp/>IdentRes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.preqActPayloadLimit<sp/>=<sp/>36;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>initialization<sp/>(+28<sp/>bytes)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.presActPayloadLimit<sp/>=<sp/>36;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>initialization<sp/>of<sp/>Pres<sp/>frame<sp/>(+28<sp/>bytes)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.asndMaxLatency<sp/>=<sp/>150000;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>const;<sp/>only<sp/>required<sp/>for<sp/>IdentRes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.multiplCylceCnt<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>error<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.asyncMtu<sp/>=<sp/>1500;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>to<sp/>set<sp/>up<sp/>max<sp/>frame<sp/>size</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.prescaler<sp/>=<sp/>2;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>required<sp/>for<sp/>sync</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.lossOfFrameTolerance<sp/>=<sp/>500000;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.asyncSlotTimeout<sp/>=<sp/>3000000;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.waitSocPreq<sp/>=<sp/>1000;</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.deviceType<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_DeviceType_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.vendorId<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_IdentityObject_REC.VendorId_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.productCode<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_IdentityObject_REC.ProductCode_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.revisionNumber<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_IdentityObject_REC.RevisionNo_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.serialNumber<sp/>=<sp/>UINT_MAX;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>NMT_IdentityObject_REC.SerialNo_U32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.applicationSwDate<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.applicationSwTime<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.subnetMask<sp/>=<sp/><ref refid="config_define_8h_1a2277cfa773d618a987524fc0590fe253" kindref="member">SUBNET_MASK</ref>;<sp/></highlight><highlight class="comment">//<sp/>255.255.255.0<sp/>or<sp/>/24<sp/>network<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.defaultGateway<sp/>=<sp/><ref refid="config_define_8h_1ab0092e2619bef8d5375800f507d3080c" kindref="member">DEFAULT_GATEWAY</ref>;</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/>sprintf((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)initParam.sHostname,<sp/></highlight><highlight class="stringliteral">&quot;%02x-%08x&quot;</highlight><highlight class="normal">,<sp/>initParam.nodeId,<sp/>initParam.vendorId);</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.syncNodeId<sp/>=<sp/>C_ADR_SYNC_ON_SOA;</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.fSyncOnPrcNode<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>callback<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.pfnCbEvent<sp/>=<sp/><ref refid="event_opl_8c_1ad6f574bee28d3a8f66b5885f365a8df2" kindref="member">processEvents</ref>;</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>important:<sp/>set<sp/>the<sp/>OpenPOWERLINK<sp/>cycle<sp/>actions<sp/>synced<sp/>between<sp/>all<sp/>CNs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>initParam.pfnCbSync<sp/>=<sp/><ref refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" kindref="member">processSync</ref>;</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>object<sp/>dictionary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>obdcreate_initObd(&amp;initParam.obdInitParam);</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;obdcreate_initObd()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;obdcreate_initObd()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a3ebf20f82ef4ab6c130e48091c95cba7" kindref="member">errInitObjDictionary</ref>;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>initialize<sp/>POWERLINK<sp/>stack</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_initialize();</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_initialize()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_initialize()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a93dde49c48ef9bb619348e72d664c43d" kindref="member">errOplkInit</ref>;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_create(&amp;initParam);</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_create()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_create()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ae58a341d48e59f97d21886e8e27b0db8" kindref="member">errOplkCreate</ref>;</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="527"><highlight class="normal">}</highlight></codeline>
<codeline lineno="528"><highlight class="normal"></highlight></codeline>
<codeline lineno="539" refid="opl_8cpp_1ac31969ba716dc382cc1e4c9fcf8f06cc" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1ac31969ba716dc382cc1e4c9fcf8f06cc" kindref="member">initOplThread</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="540"><highlight class="normal">{</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>start<sp/>stack<sp/>processing<sp/>by<sp/>sending<sp/>a<sp/>NMT<sp/>reset<sp/>command</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_execNmtCommand(kNmtEventSwReset);</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_execNmtCommand()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94adc47549c3ae339d7b2b8d77ac0ad63bf" kindref="member">errSendNMTResetCommand</ref>;</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ae81275d52dd3a37962b186af93bfad39" kindref="member">setupInputs</ref>();</highlight></codeline>
<codeline lineno="554"><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="556"><highlight class="normal">}</highlight></codeline>
<codeline lineno="557"><highlight class="normal"></highlight></codeline>
<codeline lineno="568" refid="opl_8cpp_1a6113e17ab32811ea2704cbfbb967c64f" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a6113e17ab32811ea2704cbfbb967c64f" kindref="member">checkStateOpl</ref>()</highlight></codeline>
<codeline lineno="569"><highlight class="normal">{</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Check<sp/>if<sp/>a<sp/>termination<sp/>signal<sp/>has<sp/>been<sp/>received<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(system_getTermSignalState()<sp/>!=<sp/>FALSE)</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Received<sp/>termination<sp/>signal,<sp/>exiting...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Received<sp/>termination<sp/>signal,<sp/>exiting...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a577af9c3c84d95925e05d66000b3d411" kindref="member">errSystemSendTerminate</ref>;</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Check<sp/>if<sp/>the<sp/>OpenPOWERLINK<sp/>stack<sp/>crashed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oplk_checkKernelStack()<sp/>==<sp/>FALSE)</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,<sp/></highlight><highlight class="stringliteral">&quot;Kernel<sp/>stack<sp/>has<sp/>gone!<sp/>Exiting...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelFatal,</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Kernel<sp/>stack<sp/>has<sp/>gone!<sp/>Exiting...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a34e5cf990e434aa370892b7d204206c8" kindref="member">errOplKernelStackDown</ref>;</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="589"><highlight class="normal">}</highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="600" refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" refkind="member"><highlight class="normal">tOplkError<sp/><ref refid="opl_8cpp_1a52e9ad149905d67047d527f120a17c11" kindref="member">processSync</ref>()</highlight></codeline>
<codeline lineno="601"><highlight class="normal">{</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>res<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classvalve" kindref="compound">valve</ref><sp/><ref refid="classvalve" kindref="compound">valve</ref>;</highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Wait<sp/>for<sp/>the<sp/>OpenPOWERLINK<sp/>cycle<sp/>to<sp/>start</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oplk_waitSyncEvent(100000)<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="608"><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Receive<sp/>OpenPOWERLINK<sp/>RPDOs<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/>oplk_exchangeProcessImageOut();</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="613"><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Process<sp/>PI_IN<sp/>--&gt;<sp/>variables<sp/>entrant<sp/>dans<sp/>le<sp/>CN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>]<sp/>=<sp/><ref refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" kindref="member">pProcessImageIn_l</ref>-&gt;<ref refid="struct_p_i___i_n_1a5a0fedeabec540480a57f2700abf8565" kindref="member">in_CN_array</ref>[<ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>];</highlight></codeline>
<codeline lineno="616"><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>skipSensorsOutFromIn<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Example<sp/>:<sp/>CN3<sp/>and<sp/>3<sp/>CNs<sp/>--&gt;<sp/>from<sp/>nbValuesCN_Out_ByCN<sp/>=<sp/>75<sp/>/<sp/>3<sp/>*<sp/>(3<sp/>-<sp/>1)<sp/>=<sp/>50<sp/>to<sp/>nbValuesCN_Out_ByCN<sp/>+<sp/>nbValuesCN_Out<sp/>=<sp/>50<sp/>+<sp/>25<sp/>=<sp/>75</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a2618e89b4c26dc851feae865df3a1a49" kindref="member">mode</ref>)</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911a9761086e420b925e438327ad385b304d" kindref="member">automatic</ref>:<sp/></highlight><highlight class="comment">//<sp/>mode<sp/>automatique<sp/>:<sp/>lecture<sp/>de<sp/>l&apos;état<sp/>des<sp/>vannes<sp/>depuis<sp/>le<sp/>CSV<sp/>de<sp/>l&apos;etat<sp/>general<sp/>actuel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1a46c8a310cf4c094f8c80e1cb8dc1f911af2ff5ec687c78928f81c2842750e3f67" kindref="member">manual</ref>:<sp/></highlight><highlight class="comment">//<sp/>mode<sp/>manuel<sp/>:<sp/>l&apos;état<sp/>des<sp/>vannes<sp/>proviennent<sp/>directement<sp/>du<sp/>MN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/>1;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="config_define_8h_1ac072f7043a3fb31b4fc2d1bcb687c157" kindref="member">SIZE_IN</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>%<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>skipSensorsOutFromIn<sp/>+=<sp/><ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>skipSensorsOutFromIn<sp/>+=<sp/>1;</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>%<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1)<sp/>!=<sp/>0<sp/>&amp;&amp;<sp/><ref refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" kindref="member">activated_Out_CN_l</ref>[skipSensorsOutFromIn])</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>]<sp/>=<sp/><ref refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" kindref="member">pProcessImageIn_l</ref>-&gt;<ref refid="struct_p_i___i_n_1a5a0fedeabec540480a57f2700abf8565" kindref="member">in_CN_array</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="637"><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Important<sp/>:<sp/>the<sp/>valve<sp/>dependance<sp/>verification<sp/>and<sp/>the<sp/>sensor<sp/>reading<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//is<sp/>called<sp/>here<sp/>to<sp/>trigger<sp/>valves<sp/>for<sp/>every<sp/>CAC<sp/>boards<sp/>(every<sp/>CNs)<sp/>at<sp/>the<sp/>same<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#if<sp/>(TARGET_SYSTEM<sp/>==<sp/>_WIN32_)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="classvalve" kindref="compound">valve</ref>.<ref refid="classvalve_1a1364f1770f8218d7a0077ca2a953371b" kindref="member">verifDependanceValves</ref>();</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(res<sp/>==<sp/>noError)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>file.writeTelem(&quot;Verification<sp/>of<sp/>valve<sp/>dependances<sp/>has<sp/>succeeded&quot;,<sp/>infoVerifDependSucess);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>opl.sendTelem(infoVerifDependSucess);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>file.writeError(&quot;Verification<sp/>of<sp/>valve<sp/>dependances<sp/>has<sp/>failed!&quot;,<sp/>res);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>opl.sendError(res);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="sensor_8cpp_1a084710571b3a23b14fe1bc00ef626f52" kindref="member">readChannels</ref>();</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(res<sp/>==<sp/>noError)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>file.writeTelem(&quot;Reading<sp/>sensor<sp/>channels<sp/>has<sp/>succeeded&quot;,<sp/>infoReadChannels);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>opl.sendTelem(infoReadChannels);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//{</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>file.writeError(&quot;Reading<sp/>sensor<sp/>channels<sp/>has<sp/>failed!&quot;,<sp/>res);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>opl.sendError(res);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Process<sp/>PI_OUT<sp/>--&gt;<sp/>variables<sp/>sortant<sp/>du<sp/>CN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aee2f3fe4573dcc68e0ead2380eb83317" kindref="member">setValues_Out_CN</ref>();</highlight></codeline>
<codeline lineno="668"><highlight class="normal"></highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>+<sp/>1;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" kindref="member">activated_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>+<sp/>1])</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref>-&gt;<ref refid="struct_p_i___o_u_t_1a6acd9eeaf14a6221c85373ee72ca3b1a" kindref="member">out_CN_array</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>]<sp/>=<sp/><ref refid="opl_8cpp_1aa59e89f762bdbdf6cf15a756fd633b00" kindref="member">values_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Send<sp/>OpenPOWERLINK<sp/>TPDOs<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/>oplk_exchangeProcessImageIn();</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(res<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="680"><highlight class="normal">}</highlight></codeline>
<codeline lineno="681"><highlight class="normal"></highlight></codeline>
<codeline lineno="687" refid="opl_8cpp_1ae81275d52dd3a37962b186af93bfad39" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1ae81275d52dd3a37962b186af93bfad39" kindref="member">setupInputs</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="688"><highlight class="normal">{</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;<ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="opl_8cpp_1ada6913a92bdf309ad87fb42dc7be501d" kindref="member">values_In_CN_l</ref>));</highlight></codeline>
<codeline lineno="690"><highlight class="normal">}</highlight></codeline>
<codeline lineno="691"><highlight class="normal"></highlight></codeline>
<codeline lineno="706" refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a6928095e76089df62d549c72bf870b44" kindref="member">initProcessImage</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="707"><highlight class="normal">{</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/>tObdSize<sp/><sp/><sp/><sp/>obdSize;</highlight></codeline>
<codeline lineno="710"><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>process<sp/>image<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Initializing<sp/>process<sp/>image...\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Size<sp/>of<sp/>process<sp/>image:<sp/>Input<sp/>=<sp/>%lu<sp/>Output<sp/>=<sp/>%lu<sp/>\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ULONG)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>),</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ULONG)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>));</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryGeneric,</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Allocating<sp/>process<sp/>image:<sp/>Input:%lu<sp/>Output:%lu&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ULONG)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>),</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ULONG)</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>));</highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Allocate<sp/>into<sp/>memory<sp/>the<sp/>RPDO<sp/>and<sp/>TPDO<sp/>from<sp/>their<sp/>cumulative<sp/>size</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_allocProcessImage(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>),<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>));</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94aeea752eff283031109152c89cad12c40" kindref="member">errOplkAllocProcessImage</ref>;</highlight></codeline>
<codeline lineno="726"><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a322e5734aa46ee4be79084a6a1bd62ab" kindref="member">pProcessImageIn_l</ref><sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_p_i___i_n" kindref="compound">PI_IN</ref>*)oplk_getProcessImageIn();</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a55f888b6071185bbddd12bc7c6edd372" kindref="member">pProcessImageOut_l</ref><sp/>=<sp/>(<ref refid="struct_p_i___o_u_t" kindref="compound">PI_OUT</ref>*)oplk_getProcessImageOut();</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>link<sp/>process<sp/>variables<sp/>used<sp/>by<sp/>CN<sp/>to<sp/>object<sp/>dictionary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(stderr,<sp/></highlight><highlight class="stringliteral">&quot;Linking<sp/>process<sp/>image<sp/>vars:\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/>obdSize<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="734"><highlight class="normal"></highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Link<sp/>image<sp/>EC<sp/>of<sp/>the<sp/>correct<sp/>NODEID</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"></highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Init<sp/>process<sp/>image<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Example<sp/>:<sp/>CN3<sp/>and<sp/>3<sp/>CNs<sp/>--&gt;<sp/>from<sp/>nbValuesCN_Out_ByCN<sp/>=<sp/>75<sp/>/<sp/>3<sp/>*<sp/>(3<sp/>-<sp/>1)<sp/>=<sp/>50<sp/>to<sp/>nbValuesCN_Out_ByCN<sp/>+<sp/>nbValuesCN_Out<sp/>=<sp/>50<sp/>+<sp/>25<sp/>=<sp/>75</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;=<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>+<sp/>1;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" kindref="member">activated_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>+<sp/>1])</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Link<sp/>valves<sp/>images</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&gt;<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>&amp;&amp;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;=<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>/<sp/>2)</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="opl_8cpp_1a224b601cc1822441cbed3a23b22b34ac" kindref="member">linkPDO_out</ref>(obdSize,<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>,<sp/>0x6500,<sp/>0x00<sp/>+<sp/>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>%<sp/>(<ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref>+1)));</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Link<sp/>sensors<sp/>images</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&gt;<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref><sp/>/<sp/>2<sp/>&amp;&amp;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;=<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref>)</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="opl_8cpp_1a224b601cc1822441cbed3a23b22b34ac" kindref="member">linkPDO_out</ref>(obdSize,<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>,<sp/>0x6502,<sp/>0x01<sp/>+<sp/>((<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>%<sp/>(<ref refid="opl_8cpp_1a8dd1817cec0b1c38e0b7eb2470855b25" kindref="member">nbValuesCN_Out</ref>+1))<sp/>%<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref>+1)));</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Link<sp/>the<sp/>board<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>==<sp/><ref refid="opl_8cpp_1afbb7865bc950120040f337a3631fc921" kindref="member">nbValuesCN_Out_ByCN</ref>)</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="opl_8cpp_1a224b601cc1822441cbed3a23b22b34ac" kindref="member">linkPDO_out</ref>(obdSize,<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>,<sp/>0x6501,<sp/><ref refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" kindref="member">NODEID</ref>);</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a6f6e0379e57e89a0eb4d33299a5716d3" kindref="member">errLinkPDOout</ref>;</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="756"><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Init<sp/>process<sp/>image<sp/>input</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"></highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref><sp/>+<sp/>1;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a16fd4c0216b92f54732e20dcd77fb18c" kindref="member">activated_Out_CN_l</ref>[<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>+<sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref><sp/>+<sp/>2<sp/>-<sp/><ref refid="node_id_8h_1a2f7945514ea8b2c7145cf68d47c96a08" kindref="member">NODEID</ref>])</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Link<sp/>valves<sp/>images<sp/>in<sp/>from<sp/>the<sp/>MN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&gt;<sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref><sp/>&amp;&amp;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;=<sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref><sp/>+<sp/><ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref>)</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="opl_8cpp_1abf4b25efd59a9185bbca55f9c969a8b9" kindref="member">linkPDO_in</ref>(obdSize,<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>,<sp/>0x6510,<sp/>0x00<sp/>+<sp/>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>%<sp/>(<ref refid="opl_8cpp_1a38621a01003975db3d4d97d7c7b5c874" kindref="member">nbValuesCN_In</ref>+1)));</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Link<sp/>the<sp/>incoming<sp/>general<sp/>state<sp/>from<sp/>the<sp/>MN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>==<sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>)</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="opl_8cpp_1abf4b25efd59a9185bbca55f9c969a8b9" kindref="member">linkPDO_in</ref>(obdSize,<sp/><ref refid="opl_8cpp_1ae734e3ff803ba9ee9ce69f720764c48a" kindref="member">nbValuesCN_In_ByCN</ref>,<sp/>0x6511,<sp/>0xF0);</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94a2d71b8bf78bab50fc7914c15391b7e4c" kindref="member">errLinkPDOin</ref>;</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(stderr,<sp/></highlight><highlight class="stringliteral">&quot;Linking<sp/>process<sp/>vars...<sp/>ok\n\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="775"><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="777"><highlight class="normal">}</highlight></codeline>
<codeline lineno="778"><highlight class="normal"></highlight></codeline>
<codeline lineno="795" refid="opl_8cpp_1abf4b25efd59a9185bbca55f9c969a8b9" refkind="member"><highlight class="normal">tOplkError<sp/><ref refid="opl_8cpp_1abf4b25efd59a9185bbca55f9c969a8b9" kindref="member">linkPDO_in</ref>(tObdSize<sp/>obdSize,<sp/>UINT16<sp/>arrayIndex,<sp/>UINT16<sp/>index,<sp/>UINT8<sp/>subIndex)<sp/>{</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/>UINT<sp/>varEntries<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>sizeElementArray<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(int16_t)<sp/>*<sp/>arrayIndex;</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;linkPDO_in<sp/>sizeof(int16_t)<sp/>*<sp/>arrayIndex:%u)=<sp/>%&quot;</highlight><highlight class="normal"><sp/>PRIu64<sp/></highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">,<sp/>arrayIndex,<sp/>sizeElementArray);<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;subIndex<sp/>:<sp/>%d<sp/>\n&quot;</highlight><highlight class="normal">,<sp/>subIndex);</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_linkProcessImageObject(index,</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subIndex,</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeElementArray,</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FALSE,</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obdSize,</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;varEntries);</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Linking<sp/>process<sp/>vars<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="815"><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="817"><highlight class="normal">}</highlight></codeline>
<codeline lineno="818"><highlight class="normal"></highlight></codeline>
<codeline lineno="835" refid="opl_8cpp_1a224b601cc1822441cbed3a23b22b34ac" refkind="member"><highlight class="normal">tOplkError<sp/><ref refid="opl_8cpp_1a224b601cc1822441cbed3a23b22b34ac" kindref="member">linkPDO_out</ref>(tObdSize<sp/>obdSize,<sp/>UINT16<sp/>arrayIndex,<sp/>UINT16<sp/>index,<sp/>UINT8<sp/>subIndex)<sp/>{</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/>UINT<sp/>varEntries<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>sizeElementArray<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(int16_t)<sp/>*<sp/>arrayIndex;</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;linkPDO_out<sp/>sizeof(int16_t)<sp/>*<sp/>arrayIndex:%d)=<sp/>%&quot;</highlight><highlight class="normal"><sp/>PRIu64<sp/></highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">,<sp/>arrayIndex,<sp/>sizeElementArray);</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;subIndex<sp/>:<sp/>%d<sp/>\n&quot;</highlight><highlight class="normal">,<sp/>subIndex);</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_linkProcessImageObject(index,</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subIndex,</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeElementArray,</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TRUE,</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obdSize,</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;varEntries);</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Linking<sp/>process<sp/>vars<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="855"><highlight class="normal"></highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="857"><highlight class="normal">}</highlight></codeline>
<codeline lineno="858"><highlight class="normal"></highlight></codeline>
<codeline lineno="866" refid="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1a43f9337be3f9efa2653d87b1f95af44c" kindref="member">extinctOPL</ref>()</highlight></codeline>
<codeline lineno="867"><highlight class="normal">{</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/>res<sp/>=<sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="869"><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/>res<sp/>=<sp/><ref refid="opl_8cpp_1aaf99cd726620ac95ff0d54f65485fb2a" kindref="member">shutdownOplImage</ref>();</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" kindref="member">shutdownPowerlink</ref>();</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/>system_exit();</highlight></codeline>
<codeline lineno="873"><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="875"><highlight class="normal">}</highlight></codeline>
<codeline lineno="876"><highlight class="normal"></highlight></codeline>
<codeline lineno="886" refid="opl_8cpp_1aaf99cd726620ac95ff0d54f65485fb2a" refkind="member"><highlight class="normal"><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94" kindref="member">statusErrDef</ref><sp/><ref refid="opl_8cpp_1aaf99cd726620ac95ff0d54f65485fb2a" kindref="member">shutdownOplImage</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="887"><highlight class="normal">{</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="889"><highlight class="normal"></highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_freeProcessImage();</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_freeProcessImage()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94acb7ab15cc47c08906b755f31f53b39b3" kindref="member">errOplkFreeProcessImage</ref>;</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="status_error_define_8h_1adf0c44f8de9b8e78b0e56caacfa1ac94ab22416d928134d1c6c7b2e8d2c31f20b" kindref="member">noError</ref>;</highlight></codeline>
<codeline lineno="900"><highlight class="normal">}</highlight></codeline>
<codeline lineno="901"><highlight class="normal"></highlight></codeline>
<codeline lineno="907" refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="opl_8cpp_1aaf3f45fd8772392506e2cd143b46a455" kindref="member">shutdownPowerlink</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="908"><highlight class="normal">{</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/>UINT<sp/><sp/><sp/><sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/>tOplkError<sp/><sp/>ret<sp/>=<sp/>kErrorOk;</highlight></codeline>
<codeline lineno="911"><highlight class="normal"></highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" kindref="member">fGsOff_l</ref><sp/>=<sp/>FALSE;</highlight></codeline>
<codeline lineno="913"><highlight class="normal"></highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>halt<sp/>the<sp/>NMT<sp/>state<sp/>machine<sp/>so<sp/>the<sp/>processing<sp/>of<sp/>POWERLINK<sp/>frames<sp/>stops</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>oplk_execNmtCommand(kNmtEventSwitchOff);</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ret<sp/>!=<sp/>kErrorOk)</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;oplk_execNmtCommand()<sp/>failed<sp/>with<sp/>\&quot;%s\&quot;<sp/>(0x%04x)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debugstr_getRetValStr(ret),</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret);</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="923"><highlight class="normal"></highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>small<sp/>loop<sp/>to<sp/>implement<sp/>timeout<sp/>waiting<sp/>for<sp/>thread<sp/>to<sp/>terminate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>=<sp/>0;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref><sp/>&lt;<sp/>1000;<sp/><ref refid="sensor_8cpp_1acb559820d9ca11295b4500f179ef6392" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="opl_8cpp_1a8f25e48b0b5122c1580e0728bcba0244" kindref="member">fGsOff_l</ref>)</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="930"><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;Stack<sp/>is<sp/>in<sp/>state<sp/>off<sp/>...<sp/>Shutdown\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/>eventlog_printMessage(kEventlogLevelInfo,</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kEventlogCategoryControl,</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Stack<sp/>is<sp/>in<sp/>state<sp/>off<sp/>...<sp/>Shutdown<sp/>openPOWERLINK&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="935"><highlight class="normal"></highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/>oplk_destroy();</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/>oplk_exit();</highlight></codeline>
<codeline lineno="938"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/Users/Squaria/Documents/openPOWERLINK_V2_CAC/apps/CAC_CN/src/opl.cpp"/>
  </compounddef>
</doxygen>
